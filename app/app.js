window.hr_offset=0;window.hr_user_offset=0;var rest_api_host="http://hr.me/";var the_host="http://ir.me";var redirectUrl="/login";var hr_login_get_url="/login";var hr_login_post_url="users/authenticate";var hr_login_recovery_get_url="password/recovery";var hr_login_recovery_post_url="users/recovery";var hr_new_password_get_url="password/new";var hr_new_password_post_url="users/password";var hr_form_create="/api/form/create";var hr_form_create_main="/api/form/create/main";var hr_form_create_image="/api/form/create/image";var hr_form_create_related="api/form/create/related";var hr_form_create_related_image="/api/form/create/related/image";var hr_form_delete_related="/api/form/delete/related";var hr_mail_subscription_url="/subscribe/mail";var hr_user_list_url="user-list";var hr_user_item_url="user-item";var hr_user_edit_url="user-edit";var hr_user_create_url="user-create";var hr_user_search_url="user-search";var hr_profile_url="user-profile";var hr_profile_edit_url="profile-edit";var hr_profile_create_url="profile-create";var hr_profile_autoresponder_url="profile-autoresponder";var hr_home_url="/";var hr_login_url="login";var hr_signup_url="signup";var hr_edit_user_key="edit-user";var hr_profile_key="user";var rest_admin_confirm_user="confirm-user";var avatar_url="/avatar/create";var navbar={admin:"templates/admin-navbar.html",nav:"templates/navbar.html"};var crop_opts={viewport:{width:300,height:300,type:"circle"},step:.05,boundary:{width:300,height:300},showZoomer:false};var scripts=["js/vendor/js/jquery/jquery.js","https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js","js/components/awesomplete.js","http://underscorejs.org/underscore-min.js","js/components/jquery.dataTables.min.js","css/components/jquery.dataTables.min.css","css/components/jquery.dataTables.reset.css","css/components/awesomplete.css"];var $=jQuery.noConflict();var app=angular.module("site",["ui.router","ngResource","uiRouterStyles","ngCookies","ngSanitize","notFound","Admin","Article","Articles","Books","Certification","Company","CompanyCreate","CompanyEdit","CompanyList","Confirm User","Contact","Dashboard","Education","EducationCreate","EducationEdit","EducationList","Educations","Experience","ExperienceCreate","ExperienceEdit","ExperienceList","Events","Hardware","Home","Job","Link","Links","Login","Login Recovery","Messages","Migration","New Password","Notifications","Profile","ProfileCreate","ProfileEdit","Resume","ResumeCreate","ResumeEdit","ResumeList","ResumeUserList","ResumeFavoriteList","ResumeInvitedList","SearchResume","SearchArticle","SearchVacancy","Software","Subcategory","SubcategoryArticles","Subscribe","Subscriptions","Tests","Unsubscribe","Vacancy","VacancyCreate","VacancyEdit","VacancyList","VacancyUserList","VacancyFavoriteList","VacancyAppliedList"]);app.config(["$locationProvider",function(e){e.hashPrefix("");e.html5Mode(true)}]);app.config(["$stateProvider","$urlRouterProvider","$cookiesProvider",function(e,t,a){e.state("home",{url:"/",controller:"homeController",templateUrl:"hr/templates/home.html",data:{title:"Home",css:"assets/css/pages/home.css"}}).state("job",{url:"/job",controller:"jobController",templateUrl:"hr/templates/job.html",data:{title:"Job",css:"assets/css/pages/job.css"}}).state("jobs",{url:"/jobs",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Job",css:"assets/css/pages/subcategory.css"}}).state("events",{url:"/events",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Events",css:"assets/css/pages/subcategory.css"}}).state("educations",{url:"/educations",controller:"educationsController",templateUrl:"hr/templates/educations.html",data:{title:"Educations",css:"assets/css/pages/educations.css"}}).state("books",{url:"/books",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Books",css:"assets/css/pages/subcategory.css"}}).state("tests",{url:"/tests",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Tests",css:"assets/css/pages/subcategory.css"}}).state("migration",{url:"/migration",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Migration",css:"assets/css/pages/subcategory.css"}}).state("certification",{url:"/certification",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Certification",css:"assets/css/pages/subcategory.css"}}).state("software",{url:"/software",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Software",css:"assets/css/pages/subcategory.css"}}).state("hardware",{url:"/hardware",controller:"subcategoryController",templateUrl:"hr/templates/subcategory.html",data:{title:"Hardware",css:"assets/css/pages/subcategory.css"}}).state("search-resume",{url:"/search-resume",controller:"searchResumeController",templateUrl:"hr/templates/search-resume.html",data:{title:"Search",css:"assets/css/pages/search-resume.css"}}).state("search-article",{url:"/search-article",controller:"searchArticleController",templateUrl:"hr/templates/search-article.html",data:{title:"Search",css:"assets/css/pages/search-article.css"}}).state("search-vacancy",{url:"/search-vacancy",controller:"searchVacancyController",templateUrl:"hr/templates/search-vacancy.html",data:{title:"Search",css:"assets/css/pages/search-vacancy.css"}}).state("article",{url:"/article/:id",controller:"articleController",templateUrl:"hr/templates/article.html",data:{title:"Article",css:"assets/css/pages/article.css"}}).state("articles",{url:"/articles",controller:"articlesController",templateUrl:"hr/templates/articles.html",data:{title:"Articles",css:"assets/css/pages/articles.css"}}).state("subcategory-articles",{url:"/subcategory/articles/:id",controller:"subcategoryArticlesController",templateUrl:"hr/templates/articles.html",data:{title:"Articles",css:"assets/css/pages/articles.css"}}).state("profile-edit",{url:"/profile/edit",controller:"profileEditController",templateUrl:"hr/templates/profile-edit.html",data:{title:"Edit Profile ",css:"assets/css/pages/profile-edit.css"}}).state("profile-create",{url:"/profile/create",controller:"profileCreateController",templateUrl:"hr/templates/profile-create.html",data:{title:"Create Profile ",css:"assets/css/pages/profile-create.css"}}).state("profile",{url:"/profile",controller:"profileController",templateUrl:"hr/templates/profile.html",data:{title:"Profile",css:"assets/css/pages/profile.css"}}).state("dashboard",{url:"/dashboard",controller:"dashboardController",templateUrl:"hr/templates/dashboard.html",data:{title:"Dashboard",css:"assets/css/pages/dashboard.css"}}).state("admin",{url:"/admin",controller:"adminController",templateUrl:"hr/templates/admin.html",data:{title:"Admin",css:"assets/css/pages/admin.css"}}).state("messages",{url:"/messages",controller:"messagesController",templateUrl:"hr/templates/messages.html",data:{title:"Messages",css:"assets/css/pages/messages.css"}}).state("notifications",{url:"/notifications",controller:"notificationsController",templateUrl:"hr/templates/notifications.html",data:{title:"Notifications",css:"assets/css/pages/notifications.css"}}).state("resume-edit",{url:"/resume/edit/:id",controller:"resumeEditController",templateUrl:"hr/templates/resume-edit.html",data:{title:"Edit Resume ",css:"assets/css/pages/resume-edit.css"}}).state("resume-create",{url:"/resume/create",controller:"resumeCreateController",templateUrl:"hr/templates/resume-create.html",data:{title:"Create Resume ",css:"assets/css/pages/resume-create.css"}}).state("resume-list",{url:"/resume/list",controller:"resumeListController",templateUrl:"hr/templates/resume-list.html",data:{title:"List Resume ",css:"assets/css/pages/resume-list.css"}}).state("resume-user-list",{url:"/resume/user/list",controller:"resumeUserListController",templateUrl:"hr/templates/resume-user-list.html",data:{title:"User Resume List",css:"assets/css/pages/resume-user-list.css"}}).state("resume-favorite-list",{url:"/resume/favorite/list",controller:"resumeFavoriteListController",templateUrl:"hr/templates/resume-favorite-list.html",data:{title:"Favorite Resume List",css:"assets/css/pages/resume-user-list.css"}}).state("resume-invited-list",{url:"/resume/invited/list",controller:"resumeInvitedListController",templateUrl:"hr/templates/resume-invited-list.html",data:{title:"Invited Resume List",css:"assets/css/pages/resume-user-list.css"}}).state("resume",{url:"/resume/:id",controller:"resumeController",templateUrl:"hr/templates/resume.html",data:{title:"Resume",css:"assets/css/pages/resume.css"}}).state("vacancy-edit",{url:"/vacancy/edit/:id",controller:"vacancyEditController",templateUrl:"hr/templates/vacancy-edit.html",data:{title:"Edit Vacancy ",css:"assets/css/pages/vacancy-edit.css"}}).state("vacancy-create",{url:"/vacancy/create",controller:"vacancyCreateController",templateUrl:"hr/templates/vacancy-create.html",data:{title:"Create Vacancy ",css:"assets/css/pages/vacancy-create.css"}}).state("vacancy-list",{url:"/vacancy/list",controller:"vacancyListController",templateUrl:"hr/templates/vacancy-list.html",data:{title:"List Vacancy ",css:"assets/css/pages/vacancy-list.css"}}).state("vacancy-favorite-list",{url:"/vacancy/favorite/list",controller:"vacancyFavoriteListController",templateUrl:"hr/templates/vacancy-favorite-list.html",data:{title:"Favorite Vacancy List",css:"assets/css/pages/vacancy-favorite-list.css"}}).state("vacancy-applied-list",{url:"/vacancy/applied/list",controller:"vacancyAppliedListController",templateUrl:"hr/templates/vacancy-applied-list.html",data:{title:"Applied Vacancy List",css:"assets/css/pages/vacancy-favorite-list.css"}}).state("vacancy-user-list",{url:"/vacancy/user/list",controller:"vacancyUserListController",templateUrl:"hr/templates/vacancy-user-list.html",data:{title:"User Vacancy List",css:"assets/css/pages/vacancy-user-list.css"}}).state("vacancy",{url:"/vacancy/:id",controller:"vacancyController",templateUrl:"hr/templates/vacancy.html",data:{title:"Vacancy",css:"assets/css/pages/vacancy.css"}}).state("education-edit",{url:"/education/edit/:id",controller:"educationEditController",templateUrl:"hr/templates/education-edit.html",data:{title:"Edit Education ",css:"assets/css/pages/education-edit.css"}}).state("education-create",{url:"/education/create",controller:"educationCreateController",templateUrl:"hr/templates/education-create.html",data:{title:"Create Education ",css:"assets/css/pages/education-create.css"}}).state("education-list",{url:"/education/list",controller:"educationListController",templateUrl:"hr/templates/education-list.html",data:{title:"List Education ",css:"assets/css/pages/education-list.css"}}).state("education",{url:"/education/:id",controller:"educationController",templateUrl:"hr/templates/education.html",data:{title:"Education",css:"assets/css/pages/education.css"}}).state("experience-edit",{url:"/experience/edit/:id",controller:"experienceEditController",templateUrl:"hr/templates/experience-edit.html",data:{title:"Edit Experience ",css:"assets/css/pages/experience-edit.css"}}).state("experience-create",{url:"/experience/create",controller:"experienceCreateController",templateUrl:"hr/templates/experience-create.html",data:{title:"Create Experience ",css:"assets/css/pages/experience-create.css"}}).state("experience-list",{url:"/experience/list",controller:"experienceListController",templateUrl:"hr/templates/experience-list.html",data:{title:"List Experience ",css:"assets/css/pages/experience-list.css"}}).state("experience",{url:"/experience/:id",controller:"experienceController",templateUrl:"hr/templates/experience.html",data:{title:"Experience",css:"assets/css/pages/experience.css"}}).state("company-edit",{url:"/company/edit/:id",controller:"companyEditController",templateUrl:"hr/templates/company-edit.html",data:{title:"Edit Company ",css:"assets/css/pages/company-edit.css"}}).state("company-create",{url:"/company/create",controller:"companyCreateController",templateUrl:"hr/templates/company-create.html",data:{title:"Create Company ",css:"assets/css/pages/company-create.css"}}).state("company",{url:"/company/:id",controller:"companyController",templateUrl:"hr/templates/company.html",data:{title:"Company",css:"assets/css/pages/company.css"}}).state("company-list",{url:"/company/list",controller:"companyListController",templateUrl:"hr/templates/company-list.html",data:{title:"Companies ",css:"assets/css/pages/company-list.css"}}).state("confirm",{url:"/confirm",controller:"confirmUserController",templateUrl:"hr/templates/confirm-user.html",data:{title:"",css:"assets/css/pages/confirm-user.css"}}).state("subscribe",{url:"/subscribe",controller:"subscribeController",templateUrl:"hr/templates/subscribe.html",data:{title:"Subscribe",css:"assets/css/pages/subscribe.css"}}).state("subscriptions",{url:"/subscriptions",controller:"subscriptionsController",cache:false,templateUrl:"hr/templates/subscriptions.html",data:{title:"Subscriptions",css:"assets/css/pages/subscriptions.css"}}).state("contact",{url:"/contact",controller:"contactController",templateUrl:"hr/templates/contact.html",data:{title:"Contacts",css:"assets/css/pages/contact.css"}}).state("not-found",{url:"/not-found",controller:"notFoundController",templateUrl:"hr/templates/404.html",data:{title:"404",css:"assets/css/pages/404.css"}}).state("login",{url:"/login",controller:"loginController",templateUrl:"hr/templates/login.html",data:{title:"Login",css:"assets/css/pages/login.css"}}).state("logout",{url:"/logout",controller:"loginController",templateUrl:"hr/templates/login.html",data:{title:"Login",css:"assets/css/pages/login.css"}}).state("login-recovery",{url:"/login-recovery",controller:"loginRecoveryController",templateUrl:"hr/templates/login-recovery.html",data:{title:"Password Recovery",css:"assets/css/pages/login-recovery.css"}}).state("new-password",{url:"/new_password.html",controller:"newPasswordController",templateUrl:"hr/templates/new-password.html",data:{title:"New Password",css:"assets/css/pages/new-password.css"}}).state("unsubscribe",{url:"/unsubscribe",controller:"unsubscribeController",templateUrl:"hr/templates/unsubscribe.html",data:{title:"Unsubscribe",css:"assets/css/pages/unsubscribe.css"}});t.otherwise("/not-found")}]);angular.module("Admin",[],function(){}).controller("adminController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="adminController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"users/"+i+"?include=ProfessionalExperiences,Education,Images,Countries,Subscriptions,Invitations,AppliedVacancies,Vacancies,Resumes,Resumes,Senders,FavoriteResumes,FavoriteVacancies&random="+get_random_number();r.get(t,{headers:{Authorization:s}}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager"},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Article",[],function(){}).controller("articleController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.lang=1;e.show_select=false;e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var i=s.id;if(t.current.controller==="articleController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"articles/"+i;r.get(o).then(function(t){e.article=t.data.article;e.lang=e.article.language_id;var a=jQuery("#banner");var o=[];if(a[0]){o=a[0].querySelectorAll("option")}[].forEach.call(o,function(e){e.removeAttribute("selected")});[].forEach.call(o,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}});e.show_select=true;a.chosen({width:"100px"});a.chosen().change(function(){e.lang=parseInt($(this).val());var t=rest_api_host+"article-translated/"+e.article.id+"/"+e.lang;r.get(t).then(function(t){e.article.title=t.data.title;e.article.text=t.data.text})})},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Articles",[],function(){}).controller("articlesController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;var i=n.search().category;var l=n.search().tag;if(typeof s=="undefined"){s=1}if(t.current.controller==="articlesController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o="";if(i||l||s){o="?";if(typeof i!="undefined"){o+="category="+i+"&"}if(typeof l!="undefined"){o+="tag="+l+"&"}if(typeof s!="undefined"){o+="page="+s+"&"}o=o.slice(0,-1)}var n=rest_api_host+"articles-list"+o;r.get(n).then(function(t){e.articles=t.data.data.articles;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Books",[],function(){}).controller("booksController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(!s)s=1;e.active_menu="books";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/books"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname});var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/books"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("Certification",[],function(){}).controller("certificationController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(!s)s=1;e.active_menu="certification";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/certification"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/certification"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("Company",[],function(){}).controller("companyController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i="Bearer "+a.get("rest_user_token");var l=hr_authorized_id();e.user_id=l;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var c=s.id;e.company_id=c;var d=rest_api_host+"company/delete/"+c;e.deleteCompany=function(){if(!l){return false}if(confirm("Are you sure?")===false){return false}r.get(d,{headers:{Authorization:i}}).then(function(a){if(a.result==="OK"){}if(a.data.result==="OK"){t.go("company-list",{url:"/company/list"})}else if(a.data.result==="error"){e.error=a.data.message;console.log("error",a.data.message)}else{e.error="Something went wrong";console.log("error response",a)}},function(t){e.error="Something went wrong";console.log("error response",t)})};if(t.current.controller==="companyController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"companies/"+c+"?include=Countries,Images";r.get(o).then(function(t){e.company=t.data.company;e.avatar=rest_api_host+e.company.Images.path+e.company.Images.fileName},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("CompanyCreate",[],function(){}).controller("companyCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";let s="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}let i=rest_api_host+"company/create";e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);l.init();l.autocomplete();l.submit()},function(e){console.log("error response",e)})});let l={init:function(){},autocomplete:function(){},submit:function(){let e=this;let t=document.querySelector("button[type=submit]");let a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);let a=new FormData(e);let r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{let e=document.getElementById("error_container");e.innerHTML="";let a=JSON.parse(this.response);let r="";if(a.result==="error"){if(e){if(Array.isArray(a.message)){a.message.forEach(function(e){if(typeof e==="object"){for(let t in e){r+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){r+="<div>"+e+"</div>"}})}else if(typeof a.message==="object"){for(let e in a.message){r+="<div>"+e+" : "+a.message[e]+"</div>"}}else{r="<div>"+a.message+"</div>"}e.innerHTML=r;window.location.hash="top"}console.log("error",a.message,r)}else if(a.result==="OK"){console.log("OK");t.go("company-list",{url:"/company/list"})}else if(a.html){$("#content_container").html(a.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",i,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(a)}};if(t.current.controller==="companyCreateController"){angular.element(document).ready(function(){})}}]);angular.module("CompanyEdit",[],function(){}).controller("companyEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i="Bearer "+a.get("rest_user_token");var l=hr_authorized_id();e.user_id=l;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!l){console.log("id not found");t.go("login",{url:"/login"})}var c=s.id;var d=rest_api_host+"/company/update/"+c;e.$on("$viewContentLoaded",function(){r.get(d,{headers:{Authorization:i}}).then(function(e){console.log("loaded",(new Date).getTime());console.log("form",e.data.html);$("#content_container").html(e.data.html);var t=document.getElementById("company_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();u.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var u={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=document.getElementById("error_container");var a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(var r in e.message){a+="<div>"+r+" : "+e.message[r]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{var o=JSON.parse(e);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log(t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{console.log("success",e);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",d,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",i);a.send(t)}};if(t.current.controller==="companyEditController"){angular.element(document).ready(function(){})}}]);angular.module("CompanyList",[],function(){}).controller("companyListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html"
;e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.not_empty=false;var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="companyListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"/company/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){var a=document.getElementById("error_container");if(t.data.result==="error"){if(a){a.textContent=t.data.message}console.log("login error",t.data.message);return}var r="Something went wrong";if(t.data.data.companies&&t.data.data.companies.length===0){r="You have no companies"}if(t.data.data.companies&&t.data.data.companies.length>0){e.companies=t.data.data.companies;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname;if(e.totalPages>1){e.not_empty=true}}else{if(a){a.textContent=r}console.log("login error",t.data.message)}},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Confirm User",[],function(){}).controller("confirmUserController",["$scope","$state","$cookies","$location",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var o=r.search().email;var n=r.search().confirm_token;var s="/users/confirm/email";e.$on("$viewContentLoaded",function(){i.init()});var i={init:function(){var e=rest_api_host+s+"?email="+o+"&confirm_token="+n;var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{$("#ajax_loader").hide();$("#confirm_container").html('<div class="recovery-response"><span class="olive-color email-confirmed">'+"Email Confirmed!"+"</span></div>");setTimeout(function(){t.go("login",{url:"/login"})},3e3)}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};a.open("POST",e,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send()}};if(t.current.controller==="confirmUserController"){angular.element(document).ready(function(){})}}]);angular.module("Contact",[],function(){}).controller("contactController",["$scope",function(e){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){})}]);angular.module("Dashboard",[],function(){}).controller("dashboardController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.rest_api_host=rest_api_host;let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";e.subscriptions=0;e.totalVacancies=0;e.favoriteVacancies=0;e.appliedVacancies=0;e.totalResumes=0;e.myResumes=0;e.invitations=0;e.favoriteResumes=0;e.companyRequests=0;if(!i){console.log("id not found");t.go("login",{url:"/login"})}r.get(rest_api_host+"home").then(function(t){if(typeof t.data.vacancies!="undefined")e.totalVacancies=t.data.vacancies;if(typeof t.data.resumes!="undefined")e.totalResumes=t.data.resumes});if(t.current.controller==="dashboardController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"users/"+i+"?include=ProfessionalExperiences,Education,Images,Countries,Companies,Subscriptions,Invitations,AppliedVacancies,Vacancies,Resumes,Resumes,Senders,FavoriteResumes,FavoriteVacancies&random="+get_random_number();r.get(t,{headers:{Authorization:s},cache:false}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager";e.admin=a==="admin"||a==="superadmin";e.companyAdmin=a==="admin"||a==="superadmin"||e.user.Companies.length>0;e.superadmin=a==="superadmin";e.companies=e.user.Companies.length;e.favoriteVacancies=e.user.FavoriteVacancies.length;e.appliedVacancies=e.user.AppliedVacancies.length;e.myResumes=e.user.Resumes.length;e.invitations=e.user.Invitations.length;e.favoriteResumes=e.user.FavoriteResumes.length;e.subscriptions=e.user.Subscriptions.length;let o=rest_api_host+"users/company/subscriptions?random="+get_random_number();r.get(o,{headers:{Authorization:s},cache:false}).then(function(t){if(t.data.data){e.subscriptions=t.data.data.user.length+t.data.data.companies.length}},function(e){console.log("error response",e)})},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Education",[],function(){}).controller("educationController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=window.location.pathname.split("/").pop();if(t.current.controller==="educationController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"education"+s;r.get(o).then(function(t){e.education=t.data;$("#content_container").html(t.data.html)},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("EducationCreate",[],function(){}).controller("educationCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=rest_api_host+"education/create";e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);l.init();l.autocomplete();l.submit()},function(e){console.log("error response",e)})});var l={init:function(){},autocomplete:function(){},submit:function(){var e=this;var t=document.querySelector("button[type=submit]");var a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var a=new FormData(e);var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=document.getElementById("error_container");e.innerHTML="";var a=JSON.parse(this.response);var r="";if(a.result==="error"){if(e){if(Array.isArray(a.message)){a.message.forEach(function(e){if(typeof e==="object"){for(var t in e){r+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){r+="<div>"+e+"</div>"}})}else if(typeof a.message==="object"){for(var o in a.message){r+="<div>"+o+" : "+a.message[o]+"</div>"}}else{r="<div>"+a.message+"</div>"}e.innerHTML=r;window.location.hash="top"}console.log("error",a.message,r)}else if(a.result==="OK"){console.log("OK");alert("ok");t.go("profile",{url:"/profile"})}else if(a.html){$("#content_container").html(a.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",i,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(a)}};if(t.current.controller==="educationCreateController"){angular.element(document).ready(function(){})}}]);angular.module("EducationEdit",[],function(){}).controller("educationEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var l=s.id;var c=rest_api_host+"/education/update/"+l;e.$on("$viewContentLoaded",function(){r.get(c,{headers:{Authorization:i}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);var t=document.getElementById("education_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();d.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var d={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=document.getElementById("error_container");var a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(var r in e.message){a+="<div>"+r+" : "+e.message[r]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{var o=JSON.parse(e);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log(t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{console.log("success",e);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",c,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",i);a.send(t)}};if(t.current.controller==="educationEditController"){angular.element(document).ready(function(){})}}]);angular.module("EducationList",[],function(){}).controller("educationListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="educationListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"education/user/list?page="+s;r.get(o).then(function(t){e.educations=t.data.educations;e.totalItems=t.data.totalItems;e.totalPages=t.data.totalPages;e.limit=t.data.limit;e.current=t.data.current;e.before=t.data.before;e.next=t.data.next;e.last=t.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Educations",[],function(){}).controller("educationsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){var s=n.search().page;e.show_select=true;if(!s){s=1}e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.institutions=[];e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"institutions/list"+"?include=Countries,EducationLevel&page="+s;r.get(o).then(function(t){if(t.data.data.institutions){e.institutions=t.data.data.institutions}})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="&page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"institutions/list"+"?include=Countries,EducationLevel"+c;r.get(d).then(function(t){if(t.data.data.institutions){e.institutions=t.data.data.institutions}})})}})}]);angular.module("Events",[],function(){}).controller("eventsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";let s=n.search().page;if(!s)s=1;e.active_menu="events";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/events"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/events"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})})}]);angular.module("Experience",[],function(){}).controller("experienceController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var i=s.id;if(t.current.controller==="experienceController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"experience"+i;r.get(o).then(function(t){e.experience=t.data},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("ExperienceCreate",[],function(){}).controller("experienceCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=rest_api_host+"experience/create";e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);l.init();l.autocomplete();l.submit()},function(e){console.log("error response",e)})});var l={init:function(){},autocomplete:function(){},submit:function(){var e=this;var t=document.querySelector("button[type=submit]");var a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var a=new FormData(e);var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=document.getElementById("error_container");e.innerHTML="";var a=JSON.parse(this.response);var r="";if(a.result==="error"){if(e){if(Array.isArray(a.message)){a.message.forEach(function(e){if(typeof e==="object"){for(var t in e){r+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){r+="<div>"+e+"</div>"}})}else if(typeof a.message==="object"){for(var o in a.message){r+="<div>"+o+" : "+a.message[o]+"</div>"}}else{r="<div>"+a.message+"</div>"}e.innerHTML=r;window.location.hash="top"}console.log("error",a.message,r)}else if(a.result==="OK"){console.log("OK");alert("ok");t.go("profile",{url:"/profile"})}else if(a.html){$("#content_container").html(a.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",i,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(a)}};if(t.current.controller==="experienceCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ExperienceEdit",[],function(){}).controller("experienceEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var l=s.id;var c=rest_api_host+"/experience/update/"+l;e.$on("$viewContentLoaded",function(){r.get(c,{headers:{Authorization:i}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);var t=document.getElementById("experience_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();d.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var d={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=document.getElementById("error_container");var a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(var r in e.message){a+="<div>"+r+" : "+e.message[r]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{var o=JSON.parse(e);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log(t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{console.log("success",e);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",c,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",i);a.send(t)}};if(t.current.controller==="experienceEditController"){angular.element(document).ready(function(){})}}]);angular.module("ExperienceList",[],function(){}).controller("experienceListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="experienceListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"experience/user/list?page="+s;r.get(o).then(function(t){e.experiences=t.data.experiences;e.totalItems=t.data.totalItems;e.totalPages=t.data.totalPages;e.limit=t.data.limit;e.current=t.data.current;e.before=t.data.before;e.next=t.data.next;e.last=t.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Hardware",[],function(){}).controller("hardwareController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(!s)s=1;e.active_menu="hardware";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/hardware"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/hardware"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("Home",[],function(){}).controller("homeController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.home_content="hr/templates/partial/home-content.html";e.home_content_mobile="hr/templates/partial/home-content-mobile.html";e.footer="hr/templates/partial/footer.html";e.active_menu="home";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.route_home=true;e.totalVacancies=0;e.totalResumes=0;e.totalArticles=0;e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(a,r){let o=rest_api_host+"home";t.get(o).then(function(t){if(typeof t.data.vacancies!="undefined")e.totalVacancies=t.data.vacancies;if(typeof t.data.resumes!="undefined")e.totalResumes=t.data.resumes;if(typeof t.data.articles!="undefined")e.totalArticles=t.data.articles;e.hasVacancies=e.totalVacancies>0;e.hasResumes=e.totalResumes>0;e.hasArticles=e.totalArticles>0});if(r.toString()==="hr/templates/partial/home-content.html"){}if(r.toString()==="hr/templates/partial/home-content-mobile.html"){$("#mobile_main_search").validate({rules:{field:{required:true}}})}})})}]);angular.module("Job",[],function(){}).controller("jobController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.job_content="hr/templates/partial/job-content.html";e.job_content_mobile="hr/templates/partial/job-content-mobile.html";e.footer="hr/templates/partial/footer.html";e.totalVacancies=0;e.totalResumes=0;e.totalCountries=1;e.active_menu="job";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.$on("$viewContentLoaded",function(){let t=rest_api_host+"home";r.get(t).then(function(t){if(typeof t.data.vacancies!="undefined")e.totalVacancies=t.data.vacancies;if(typeof t.data.resumes!="undefined")e.totalResumes=t.data.resumes;if(typeof t.data.countries!="undefined")e.totalCountries=t.data.countries;e.hasVacancies=e.totalVacancies>0;e.hasResumes=e.totalResumes>0;e.hasCountries=e.totalCountries>1},function(e){console.error(e)});e.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/job-content.html"){$("#job_search_form").validate({rules:{profession:{
require_from_group:[1,".desktop-group"]},location:{require_from_group:[1,".desktop-group"]}},messages:{profession:"Please enter profession",location:"Please enter location"},submitHandler:e=>{let t;let a=document.querySelector('input[name="search_type"]:checked');if(a){t=a.id}if(e){let a=e.elements.profession.value;let r=e.elements.location.value;let o="";if(r&&a){o="?what="+encodeURIComponent(a)+"&where="+encodeURIComponent(r)}else if(a){o="?what="+encodeURIComponent(a)}else if(r){o="?where="+encodeURIComponent(r)}let n=window.location.origin+"/search-resume"+o;let s=window.location.origin+"/search-vacancy"+o;if(t==="vacancy_search_type"){window.location.href=s}if(t==="resume_search_type"){window.location.href=n}}}})}if(t.toString()==="hr/templates/partial/job-content-mobile.html"){$("#mobile_job_search").validate({rules:{profession:{require_from_group:[1,".mobile-group"]},location:{require_from_group:[1,".mobile-group"]}},messages:{profession:"Please enter profession",location:"Please enter location"},submitHandler:e=>{let t;let a=document.querySelector('input[name="mobile_search_type"]:checked');if(a){t=a.id}if(e){let a=e.elements.profession.value;let r=e.elements.location.value;let o="";if(r&&a){o="?what="+encodeURIComponent(a)+"&where="+encodeURIComponent(r)}else if(a){o="?what="+encodeURIComponent(a)}else if(r){o="?where="+encodeURIComponent(r)}let n=window.location.origin+"/search-resume"+o;let s=window.location.origin+"/search-vacancy"+o;if(t==="mobile_vacancy_search_type"){window.location.href=s}if(t==="mobile_resume_search_type"){window.location.href=n}}}})}})})}]);angular.module("Link",[],function(){}).controller("linkController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var i=s.id;if(t.current.controller==="linkController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"articles-linked/"+i;r.get(o).then(function(t){e.article=t.data},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Links",[],function(){}).controller("linksController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(t.current.controller==="linksController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"articles";r.get(o).then(function(t){e.articles=t.data.data.articles;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Login",[],function(){}).controller("loginController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var o=hr_authorized_id();e.user_id=o;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(o){t.go("home",{url:"/"})}e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_login_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);$("#login_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("login_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();n.login(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var n={login:function(e){var t,a,r;if(typeof e.username.value!="undefined"){t=e.username.value}else{alert("Username not defined");return false}if(typeof e.password.value!="undefined"){a=e.password.value}else{alert("password not defined");return false}if(typeof e.remember.checked!=="undefined"&&e.remember.checked){r=e.remember.checked}else{r=null}admin_auth.login(t,a,r)}}}]);angular.module("Login Recovery",[],function(){}).controller("loginRecoveryController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_login_recovery_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);$("#login_recovery_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("login_recovery_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();o.login_recovery(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var o={login_recovery:function(e){var t=new FormData(e);var a=rest_api_host+hr_login_recovery_post_url;var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=e.result;$("#login_recovery_container").html('<div class="recovery-response">'+t+"</div>")}catch(e){console.log("error",e)}}else{console.log("error login recovery response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(t)}}}]);angular.module("Messages",[],function(){}).controller("messagesController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="adminController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"users/"+i+"?include=ProfessionalExperiences,Education,Images,Countries,Subscriptions,Invitations,AppliedVacancies,Vacancies,Resumes,Resumes,Senders,FavoriteResumes,FavoriteVacancies&random="+get_random_number();r.get(t,{headers:{Authorization:s}}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager"},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Migration",[],function(){}).controller("migrationController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();let s=n.search().page;if(!s)s=1;e.active_menu="migration";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){const t=rest_api_host+"categories/sub/migration"+"?page="+s;r.get(t).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){const t=jQuery("#banner");let a=[];if(t[0]){a=t[0].querySelectorAll("option")}e.show_select=true;t.chosen({width:"100px"});t.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(a,function(e){e.removeAttribute("selected")});[].forEach.call(a,function(t){const a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});const o=document.getElementById("full_text_search_form");o.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();const a=o.querySelector("#search_keywords");const n=a?a.value:null;const i=o.querySelector("#banner");const l=i?i.value:null;let c="?page="+s;if(l){c+="&country="+l}if(n){c+="&q="+n}const d=rest_api_host+"categories/sub/migration"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("New Password",[],function(){}).controller("newPasswordController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_new_password_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);$("#new_password_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("new_password_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();o.login_recovery(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var o={login_recovery:function(e){var t=new FormData(e);var a=rest_api_host+hr_new_password_post_url+window.location.search;var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=e.result;$("#new_password_container").html('<div class="recovery-response">'+t+"</div>")}catch(e){console.log("error",e)}}else{console.log("error new password response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(t)}}}]);angular.module("notFound",[],function(){}).controller("notFoundController",["$scope",function(e){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar()}]);angular.module("Notifications",[],function(){}).controller("notificationsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="adminController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"users/"+i+"?include=ProfessionalExperiences,Education,Images,Countries,Subscriptions,Invitations,AppliedVacancies,Vacancies,Resumes,Resumes,Senders,FavoriteResumes,FavoriteVacancies&random="+get_random_number();r.get(t,{headers:{Authorization:s}}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager"},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Profile",[],function(){}).controller("profileController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";e.deleteProfile=(()=>{let e=confirm("Are you sure what you are doing? \n This action cannot be undone.");if(!e){return}let a=rest_api_host+"/profile/delete/"+i+"?random="+get_random_number();r.get(a,{headers:{Authorization:s}}).then(e=>{t.go("home",{url:"/"})},e=>{console.log("error response",e)})});if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="profileController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"users/"+i+"?include=ProfessionalExperiences,Education,Images,Countries&random="+get_random_number();r.get(t,{headers:{Authorization:s}}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager";e.admin=a==="admin"||a==="superadmin";e.companyAdmin=a==="admin"||a==="superadmin"||e.user.Companies.length>0;e.superadmin=a==="superadmin"},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("ProfileCreate",[],function(){}).controller("profileCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.croppie="hr/templates/partial/croppie-modal.html";let s="/login";let i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.error="";if(i){t.go("home",{url:"/"})}let l=rest_api_host+"profile/create/";e.$on("$viewContentLoaded",function(){r.get(l).then(function(e){$("#content_container").html(e.data.html);$("#add_new_photo").removeClass("hidden");$("#avatar_model_Users_counter_").closest("div").parent().addClass("hidden");$("#avatar_model_Users_counter_").remove();c.init();c.autocomplete();c.submit()},function(e){console.log("error response",e)});e.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/croppie-modal.html"){$(".btn-add-new-photo").off();$(".btn-add-new-photo").on("click",function(){$(".modal-add-photo").modal("show")});$(".avatar-grid .row .col-sm-3 img").off();$(".avatar-grid .row .col-sm-3 img").on("click",function(){$(".avatar-grid .row .col-sm-3 img.active").removeClass("active");$(this).addClass("active")});$(".first-image").click()}})});let c={init:function(){},autocomplete:function(){},submit:function(){let e=this;let t=document.querySelector("button[type=submit]");let a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);let t=new FormData(e);let a=document.getElementById("base64");if(a&&a.value){let e=dataURLtoFile(a.value,"avatar.png");if(e){t.append("fileName",e)}}let r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{let e=document.getElementById("error_container");e.innerHTML="";let t=JSON.parse(this.response);let a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(let t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(let e in t.message){a+="<div>"+e+" : "+t.message[e]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");window.location.href=s}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",l,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(t)}};if(t.current.controller==="profileCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ProfileEdit",[],function(){}).controller("profileEditController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";let s="Bearer "+a.get("rest_user_token");let i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!i){console.log("id not found");t.go("login",{url:"/login"})}let l=rest_api_host+"users/"+i;r.get(l,{headers:{Authorization:s}}).then(function(t){e.user=t.data.user;let a=e.user.role;e.user.role=e.user.role.capitalize();e.company=a==="admin"||a==="superadmin"||a==="partner"||a==="manager";e.admin=a==="admin"||a==="superadmin";e.companyAdmin=a==="admin"||a==="superadmin"||e.user.Companies.length>0;e.superadmin=a==="superadmin"},function(e){console.log("error response",e)});e.$on("$viewContentLoaded",function(){let t=rest_api_host+"/profile/update/"+i;r.get(t,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);$("#add_new_photo").removeClass("hidden");$("#avatar_model_Users_counter_").closest("div").parent().addClass("hidden");$("#avatar_model_Users_counter_").remove();$("input[name=username]").attr("disabled","disabled");let t=document.querySelector("select[name=role]");if(t){let e=document.getElementById("role_id");t.removeAttribute("disabled");if(e){let a=e.value;let r=[];if(t){r=t.querySelectorAll("option")}if(a.length<1||a==="null"||a===null){[].forEach.call(r,function(e){if(parseInt(e.value)===9){e.setAttribute("selected","selected")}})}[].forEach.call(r,function(e){if(parseInt(e.value)===parseInt(a)){e.setAttribute("selected","selected")}})}}let a=document.getElementById("user_form");if(a){a.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();c.hr_user_edit(a);return false})}},function(e){console.log("error response",e)});e.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/croppie-modal.html"){$(".btn-add-new-photo").off();$(".btn-add-new-photo").on("click",function(){$(".modal-add-photo").modal("show")});$(".avatar-grid .row .col-sm-3 img").off();$(".avatar-grid .row .col-sm-3 img").on("click",function(){$(".avatar-grid .row .col-sm-3 img.active").removeClass("active");$(this).addClass("active")});$(".first-image").click()}})});const c={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);let t=new FormData(e);this.appendCheckbox(e,t);let a=document.getElementById("base64");if(a&&a.value){let e=dataURLtoFile(a.value,"avatar.png");if(e){t.append("fileName",e)}}let r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{let e=JSON.parse(this.response);let t=document.getElementById("jd_error_container");let a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(let t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(let t in e.message){a+="<div>"+t+" : "+e.message[t]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(let t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{let t=JSON.parse(e);t.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log("error",t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",l,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(t)}};if(t.current.controller==="profileEditController"){angular.element(document).ready(function(){})}}]);angular.module("Resume",[],function(){}).controller("resumeController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){let i="Bearer "+a.get("rest_user_token");e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;e.show_remove_favorite=false;e.show_add_favorite=false;e.company_id=null;const l=hr_authorized_id();e.user_id=l;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.companyAdmin=false;const c=s.id;e.managed_companies=[];e.invited_companies=[];e.invited=[];let d=rest_api_host+"resumes/"+c+"?include=Uploaded,Avatar,Experience,Education,Users,Favorites,Invited&random="+get_random_number();if(t.current.controller==="resumeController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){r.get(d).then(function(t){const a=new Date(t.data.resume.Users.birthday).getFullYear();const o=(new Date).getFullYear();e.resume=t.data.resume;e.resume.age=o-a;e.avatar=t.data.resume.Avatar[0];const n=t.data.resume.Invited;const s=t.data.resume.Favorites;[].forEach.call(n,t=>{if(parseInt(t.user_id)===e.user_id){e.invited.push(t)}});if(l){let t=rest_api_host+"users/"+l+"?include=Companies,CompanyManager&random="+get_random_number();r.get(t,{headers:{Authorization:i},cache:false}).then(function(t){const a=t.data.user.CompanyManager;const r=t.data.user.Companies;e.user=t.data.user;let o=e.user.role;e.companyAdmin=o==="admin"||o==="superadmin"||e.user.Companies.length>0;if(r.length>0&&a.length>0){[].forEach.call(r,function(t){let a=true;[].forEach.call(e.invited,function(e){if(parseInt(t.id)===parseInt(e.company_id)){a=false}});if(a){e.managed_companies.push(t)}else{e.invited_companies.push(t)}})}})}if(s&&s.length>0){[].forEach.call(s,function(t){if(l&&parseInt(t.user_id)===l){e.show_remove_favorite=true}});if(!e.show_remove_favorite){e.show_add_favorite=true}}else{e.show_add_favorite=true}},function(e){console.log("error response",e)})}e.removeFavorite=function(){if(l&&e.resume&&e.resume.id){let t=rest_api_host+"favorite-resume/remove/"+e.resume.id+"?random="+get_random_number();r.get(t,{headers:{Authorization:i}}).then(function(t){if(t.data.result==="OK"){e.show_remove_favorite=false;e.show_add_favorite=true}else if(t.data.result==="error"){console.log("error",t.data.message)}else{console.log("error response",t)}},function(e){console.log("error response",e)})}};e.addFavorite=function(){if(l&&e.resume&&e.resume.id){let t=rest_api_host+"favorite-resume/add/"+e.resume.id+"?random="+get_random_number();r.get(t,{headers:{Authorization:i}}).then(function(t){if(t.data.result==="OK"){e.show_remove_favorite=true;e.show_add_favorite=false}else if(t.data.result==="error"){console.log("error",t.data.message)}else{console.log("error response",t)}},function(e){console.log("error response",e)})}};e.inviteResume=(()=>{if(l&&e.resume.id&&l){const t=document.getElementById("resume_invitation_companies");let a=t.elements["managed"];if(a.constructor.name==="HTMLInputElement"){a=[a]}let o=[];[].forEach.call(a,e=>{if(e.checked){o.push(e.value)}});let n=rest_api_host+"resume/invite/"+e.resume.id+"?companies="+o.join(",")+"&random="+get_random_number();r.get(n,{headers:{Authorization:i}}).then(function(e){if(e.data.result==="OK"){window.location.reload()}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}});e.removeInvitation=(()=>{if(l&&e.resume.id&&l){const t=document.getElementById("resume_remove_invitation");let a=t.elements["removed"];if(a.constructor.name==="HTMLInputElement"){a=[a]}let o=[];[].forEach.call(a,e=>{if(e.checked){o.push(e.value)}});let n=rest_api_host+"resume/remove/invited/"+e.resume.id+"?companies="+o.join(",")+"&random="+get_random_number();r.get(n,{headers:{Authorization:i}}).then(function(e){if(e.data.result==="OK"){window.location.reload()}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}})})})}}]);angular.module("ResumeCreate",[],function(){}).controller("resumeCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized_id()){console.log("id not found");t.go("login",{url:"/login"})}var i=rest_api_host+"resume/create";e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);l.init();l.autocomplete();l.submit()},function(e){console.log("error response",e)})});var l={init:function(){},autocomplete:function(){},submit:function(){var e=this;var t=document.querySelector("button[type=submit]");var a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var a=new FormData(e);var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=document.getElementById("error_container");e.innerHTML="";var a=JSON.parse(this.response);var r="";if(a.result==="error"){if(e){if(Array.isArray(a.message)){a.message.forEach(function(e){if(typeof e==="object"){for(var t in e){r+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){r+="<div>"+e+"</div>"}})}else if(typeof a.message==="object"){for(var o in a.message){r+="<div>"+o+" : "+a.message[o]+"</div>"}}else{r="<div>"+a.message+"</div>"}e.innerHTML=r;window.location.hash="top"}console.log("error",a.message,r)}else if(a.result==="OK"){console.log("OK");t.go("resume-list",{url:"/resume/list"})}else if(a.html){$("#content_container").html(a.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",i,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(a)}};if(t.current.controller==="resumeCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ResumeEdit",[],function(){}).controller("resumeEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";let i="Bearer "+a.get("rest_user_token");let l=hr_authorized_id();e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();let c=s.id;let d=rest_api_host+"/resume/update/"+c;if(!l){console.log("id not found");t.go("login",{url:"/login"})}e.$on("$viewContentLoaded",function(){r.get(d,{headers:{
Authorization:i}}).then(function(e){$("#content_container").html(e.data.html);let t=document.getElementById("resume_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();u.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});let u={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);let t=new FormData(e);this.appendCheckbox(e,t);let a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{let e=JSON.parse(this.response);let t=document.getElementById("error_container");let a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(let t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(let t in e.message){a+="<div>"+t+" : "+e.message[t]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(let t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{let t=JSON.parse(e);t.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log(t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{console.log("success",e);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",d,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",i);a.send(t)}};if(t.current.controller==="resumeEditController"){angular.element(document).ready(function(){})}}]);angular.module("ResumeFavoriteList",[],function(){}).controller("resumeFavoriteListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="resumeFavoriteListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"favorite-resume/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.resumes=t.data.data.resumes;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeInvitedList",[],function(){}).controller("resumeInvitedListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="resumeInvitedListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"resume/invited/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.resumes=t.data.data.resumes;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeList",[],function(){}).controller("resumeListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=window.location.origin+window.location.pathname;var i=n.search().page;if(typeof i=="undefined"){i=1}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="resumeListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"resume/list/"+i;r.get(o).then(function(t){e.resumes=t.data.data.resumes;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeUserList",[],function(){}).controller("resumeUserListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="resumeUserListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"resume/user/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.resumes=t.data.data.resumes;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("SearchArticle",[],function(){}).controller("searchArticleController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search_page="hr/templates/partial/header-search-article.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.categories=[];let s=n.search().keywords;let i=n.search().page;let l=n.search().category;let c=n.search().tag;if(!s||s.length<5)s="";if(l==="0"){l=null}if(!i){i=1}e.keyword=s;e.selected=l;e.qs1="";e.goLink=(t=>{if(""+i===""+t){return false}let a=e.pageUrl;if(e.qs1.length>0){a+="&page="+t}else{a+="?page="+t}window.location=a});if(t.current.controller==="searchArticleController"){r.get(rest_api_host+"categories/all").then(t=>{e.categories=t.data.categories;e.categories=[{id:"0",name:"ALL"}].concat(e.categories)});e.$on("$viewContentLoaded",()=>{$("#articles_full_text_search_form").validate({rules:{keywords:{require_from_group:[1,".desktop-group"]},category:{require_from_group:[1,".desktop-group"]}},messages:{keywords:"Please enter article keyword"},submitHandler:e=>{e.submit()}});$("#mobile_articles_full_text_search_form").validate({rules:{keywords:{required:true},category:{required:true}},messages:{keywords:"Please enter article keyword"},submitHandler:e=>{e.submit()}});e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){$("#filter_button").on("click",()=>{$("#mobile_articles_filter").toggle()});let t="";if(s||c||i||l){t="?";if(s){t+="q="+s+"&"}if(i){t+="page="+i+"&"}if(c){t+="tag="+c+"&"}if(l){t+="category="+l+"&"}t=t.slice(0,-1)}let a=rest_api_host+"search/articles"+t;r.get(a).then(t=>{if(t.data.result&&t.data.result==="error"){console.log("error",t.data.message);return false}e.articles=t.data.data.articles;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname;let a="";if(s||c||i||l){a="?";if(s){a+="q="+s+"&"}if(c){a+="tag="+c+"&"}if(l){a+="category="+l+"&"}a=a.slice(0,-1)}e.pageUrl+=a;e.qs1=a},e=>{console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(()=>{})}}]);angular.module("SearchResume",[],function(){}).controller("searchResumeController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-search-background.html";e.header_search_page="hr/templates/partial/header-search-resume.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();let s=n.search().what;let i=n.search().where;let l=n.search().salary;let c=n.search().type;let d=n.search().currencies;let u=n.search().order;let m=n.search().page;i=i?i:"";s=s?s:"";i=decodeURIComponent(i);s=decodeURIComponent(s);e.currencies=d;e.where=i;e.what=s;e.salary=l;e.type=c;e.order=u;o.remove("hr/templates/partial/header-search-resume.html");if(!m){m=1}e.qs1="";e.goLink=(t=>{if(""+m===""+t){return false}let a=e.pageUrl;if(e.qs1.length>0){a+="&page="+t}else{a+="?page="+t}window.location=a});if(t.current.controller==="searchResumeController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/header-search-resume.html"){$("#filter_button").on("click",function(){$("#mobile_filter").toggle()});$("#full_text_search_form").validate({rules:{what:{require_from_group:[1,".desktop-group"]},where:{require_from_group:[1,".desktop-group"]},salary:{require_from_group:[1,".desktop-group"]}},messages:{what:"Please enter keywords",where:"Please enter location",salary:"Please enter salary"},submitHandler:e=>{e.submit()}});$("#mobile_full_text_search_form").validate({rules:{what:{require_from_group:[1,".mobile-group"]},where:{require_from_group:[1,".mobile-group"]},salary:{require_from_group:[1,".mobile-group"]}},messages:{what:"Please enter keywords",where:"Please enter location",salary:"Please enter salary"},submitHandler:e=>{e.submit()}})}if(a.toString()==="hr/templates/partial/footer.html"){let t="";if(s||i||m||l||c||d||u){t="?";if(s&&s.length>1){t+="what="+encodeURIComponent(s)+"&"}if(i&&i.length>1){t+="where="+i+"&"}if(m){t+="page="+m+"&"}if(l){t+="salary="+l+"&"}if(d){t+="currency="+d+"&"}if(c){t+="type="+c+"&"}if(u){t+="order="+u+"&"}t=t.slice(0,-1);let a=rest_api_host+"resume/search"+t;r.get(a).then(function(t){console.info("data",t);if(t.data.result&&t.data.result==="error"){console.log("error",t.data.message);return false}e.resumes=t.data.data.resumes;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname;let a="";if(s||i||l||c||d||u){a="?";if(s&&s.length>1){a+="what="+s+"&"}if(i&&i.length>1){a+="where="+i+"&"}if(l){a+="salary="+l+"&"}if(d){a+="currency="+d+"&"}if(c){a+="type="+c+"&"}if(u){a+="order="+u+"&"}a=a.slice(0,-1)}e.pageUrl+=a;e.qs1=a},function(e){console.log("error response",e)})}}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("SearchVacancy",[],function(){}).controller("searchVacancyController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-search-background.html";e.header_search_page="hr/templates/partial/header-search-resume.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();let s=n.search().where;let i=n.search().what;let l=n.search().salary;let c=n.search().type;let d=n.search().currencies;let u=n.search().order;let m=n.search().page;s=s?s:"";i=i?i:"";s=decodeURIComponent(s);i=decodeURIComponent(i);e.curencies=d;e.where=s;e.what=i;e.salary=l;e.type=c;e.order=u;o.remove("hr/templates/partial/header-search-resume.html");if(typeof m=="undefined"){m=1}e.qs1="";e.goLink=(t=>{if(""+m===""+t){return false}let a=e.pageUrl;if(e.qs1.length>0){a+="&page="+t}else{a+="?page="+t}window.location=a});if(t.current.controller==="searchVacancyController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/header-search-resume.html"){$("#filter_button").on("click",function(){$("#mobile_filter").toggle()});$("#full_text_search_form").validate({rules:{what:{require_from_group:[1,".desktop-group"]},where:{require_from_group:[1,".desktop-group"]},salary:{require_from_group:[1,".desktop-group"]}},messages:{what:"Please enter keywords",where:"Please enter location",salary:"Please enter salary"},submitHandler:e=>{e.submit()}});$("#mobile_full_text_search_form").validate({rules:{what:{require_from_group:[1,".mobile-group"]},where:{require_from_group:[1,".mobile-group"]},salary:{require_from_group:[1,".mobile-group"]}},messages:{what:"Please enter keywords",where:"Please enter location",salary:"Please enter salary"},submitHandler:e=>{e.submit()}})}if(a.toString()==="hr/templates/partial/footer.html"){let t="";if(i||s||m||l||c||d||u){t="?";if(i&&i.length>1){t+="what="+encodeURIComponent(i)+"&"}if(s&&s.length>1){t+="where="+s+"&"}if(m){t+="page="+m+"&"}if(l){t+="salary="+l+"&"}if(d){t+="currency="+d+"&"}if(c){t+="type="+c+"&"}if(u){t+="order="+u+"&"}t=t.slice(0,-1);let a=rest_api_host+"vacancy/search"+t;r.get(a).then(function(t){if(t.data.result&&t.data.result==="error"){console.log("error",t.data.message);return false}e.vacancies=t.data.data.vacancies;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname;let a="";if(i||s||l||c||d||u){a="?";if(i&&i.length>1){a+="what="+i+"&"}if(s&&s.length>1){a+="where="+s+"&"}if(l){a+="salary="+l+"&"}if(d){a+="currency="+d+"&"}if(c){a+="type="+c+"&"}if(u){a+="order="+u+"&"}a=a.slice(0,-1)}e.pageUrl+=a;e.qs1=a},function(e){console.log("error response",e)})}}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Software",[],function(){}).controller("softwareController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(!s)s=1;e.active_menu="software";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/software"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/software"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("SubcategoryArticles",[],function(){}).controller("subcategoryArticlesController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i=n.search().page;var l=s.id;console.log(9,l,isNaN(l));if(isNaN(l)){history.back()}e.active_menu="home";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.subcategories=[];e.data="";if(typeof i=="undefined"){i=1}e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"subcategory/articles/"+l+"?page="+i;r.get(o).then(function(t){console.log(8,o,t);e.articles=t.data.data.articles;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.subName=t.data.data.subName;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}})})}]);angular.module("Subcategory",[],function(){}).controller("subcategoryController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();let s=n.path();let i=n.search().page;let l=n.search().keywords;let c=n.search().countries;l=l?l:"";l=decodeURIComponent(l);if(!i)i=1;e.active_menu="tests";e.subcategories=[];e.data="";e.host=rest_api_host;e.qs1="";e.goLink=(t=>{if(""+i===""+t){return false}let a=e.pageUrl;if(e.qs1.length>0){a+="&page="+t}else{a+="?page="+t}window.location=a});e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){let t=rest_api_host+"categories/sub"+s+"?page="+i;r.get(t).then(t=>{e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){let t=jQuery("#banner");let a=[];if(t[0]){a=t[0].querySelectorAll("option")}e.show_select=true;t.chosen({width:"100px"});t.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(a,function(e){e.removeAttribute("selected")});[].forEach.call(a,function(t){let a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});let o=document.getElementById("full_text_search_form");o.addEventListener("submit",t=>{t.preventDefault();t.stopPropagation();let a=o.querySelector("#search_keywords");l=a?a.value:null;let n=o.querySelector("#banner");c=n?n.value:null;let d="?page="+i;if(c){d+="&country="+c}if(l){d+="&q="+encodeURIComponent(l)}let u=rest_api_host+"categories/sub"+s+d;r.get(u).then(t=>{e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname;let a="";if(l||c){a="?";if(c){a+="country="+c+"&"}if(l){a+="keyword="+encodeURIComponent(l)+"&"}a=a.slice(0,-1)}e.pageUrl+=a;e.qs1=a})})}})}]);angular.module("Subscribe",[],function(){}).controller("subscribeController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-search-background.html";e.subscribe="hr/templates/partial/subscribe.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.hide_subscribe_link=true;e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.categories=[];if(t.current.controller==="subscribeController"){r.get(rest_api_host+"categories/all").then(t=>{e.categories=t.data.categories;e.categories=[{id:"0",name:"ALL"}].concat(e.categories)});e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(e,a){if(a.toString()==="hr/templates/partial/footer.html"){$("#mail_subscription").validate({rules:{field:{required:true,email:true}}});$("#mail_subscription_mobile").validate({rules:{field:{required:true,email:true}}});let e=document.getElementById("mail_subscription_mobile");if(e){e.addEventListener("submit",function(a){let r=rest_api_host+hr_mail_subscription_url;let o=new XMLHttpRequest;let n=new FormData(e);o.onload=function(){if(this.readyState===4){if(this.status===200){e.style.display="none";$("#mail_subscription_title").hide();$("#mail_subscription_success").show();setTimeout(function(){t.go("home",{url:"/"})},3e3)}else{console.log("error response",this.response)}}};o.open("POST",r,true);o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.send(n)})}let a=document.getElementById("mail_subscription");if(a){a.addEventListener("submit",function(e){let r=rest_api_host+hr_mail_subscription_url;let o=new XMLHttpRequest;let n=new FormData(a);o.onload=function(){if(this.readyState===4){if(this.status===200){$("#mail_subscription_wrapper").hide();$("#mail_subscription_title").hide();$("#mail_subscription_success").show();a.style.display="none";setTimeout(function(){t.go("home",{url:"/"})},3e3)}else{console.log("error response",this.response)}}};o.open("POST",r,true);o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.send(n)})}}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Subscriptions",[],function(){}).controller("subscriptionsController",["$scope","$state","$cookies","$http","$templateCache","$location","$cacheFactory",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.admin_menu="hr/templates/partial/admin-menu.html";e.footer="hr/templates/partial/footer.html";e.rest_api_host=rest_api_host;let i="Bearer "+a.get("rest_user_token");o.removeAll();let l=hr_authorized_id();e.user_id=l;e.user=hr_user();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();e.role=hr_get_roles();e.company=e.role==="admin"||e.role==="superadmin"||e.role==="partner"||e.role==="manager";e.companyAdmin=e.role==="admin"||e.role==="superadmin"||e.role==="companyAdmin";e.admin=e.role==="admin"||e.role==="superadmin";e.superadmin=e.role==="superadmin";e.subscriptions=[];e.company=true;if(!l){console.log("id not found");t.go("login",{url:"/login"})}e.subscribeUser=(e=>{let t=rest_api_host+"users/subscribe/user/"+e+"?prevent="+ +get_random_number();r.get(t,{headers:{Authorization:i},cache:false}).then(function(e){o.remove("hr/templates/subscriptions.html");localStorage.clear();window.location.reload()},function(e){console.error("error response",e)})});e.unsubscribeUser=(e=>{let t=rest_api_host+"users/unsubscribe/user/"+e+"?prevent="+ +get_random_number();r.get(t,{headers:{Authorization:i},cache:false}).then(function(e){o.remove("hr/templates/subscriptions.html");localStorage.clear();window.location.reload()},function(e){console.error("error response",e)})});e.subscribeCompany=((e,t)=>{let a=rest_api_host+"users/subscribe/company/"+e+"/"+t+"?prevent="+ +get_random_number();r.get(a,{headers:{Authorization:i},cache:false}).then(function(e){o.remove("hr/templates/subscriptions.html");window.location.reload()},function(e){console.error("error response",e)})});e.unsubscribeCompany=((e,t)=>{let a=rest_api_host+"users/unsubscribe/company/"+e+"/"+t+"?prevent="+ +get_random_number();r.get(a,{headers:{Authorization:i},cache:false}).then(function(e){o.remove("hr/templates/subscriptions.html");window.location.reload()},function(e){console.error("error response",e)})});if(t.current.controller==="subscriptionsController"){let t=rest_api_host+"users/subscriptions?random="+get_random_number();r.get(t,{headers:{Authorization:i},cache:false}).then(function(t){e.subscriptions=t.data.data},function(e){console.error("error response",e)})}e.$on("$viewContentLoaded",function(){})}]);angular.module("Tests",[],function(){}).controller("testsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html"
;e.header_background="hr/templates/partial/header-background.html";e.header_search="hr/templates/partial/header-search-keywords.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(!s)s=1;e.active_menu="tests";e.subcategories=[];e.data="";e.host=rest_api_host;e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"categories/sub/tests"+"?page="+s;r.get(o).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})}if(a.toString()==="hr/templates/partial/header-search-keywords.html"){var n=jQuery("#banner");var i=[];if(n[0]){i=n[0].querySelectorAll("option")}e.show_select=true;n.chosen({width:"100px"});n.chosen().change(function(){e.lang=parseInt($(this).val());[].forEach.call(i,function(e){e.removeAttribute("selected")});[].forEach.call(i,function(t){var a=parseInt(t.getAttribute("value"));if(a===e.lang){t.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();var a=l.querySelector("#search_keywords");var o=a?a.value:null;var n=l.querySelector("#banner");var i=n?n.value:null;var c="?page="+s;if(i){c+="&country="+i}if(o){c+="&q="+o}var d=rest_api_host+"categories/sub/tests"+c;r.get(d).then(function(t){e.subcategories=t.data.data.subcategory;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname})})}})}]);angular.module("Unsubscribe",[],function(){}).controller("unsubscribeController",["$scope","$state","$cookies","$http","$location",function(e,t,a,r,o){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.job_content="hr/templates/partial/job-content.html";e.job_content_mobile="hr/templates/partial/job-content-mobile.html";e.footer="hr/templates/partial/footer.html";e.success=false;e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var n=o.search().email;var s=o.search().category;s=s?s:"";var i={email:n,category:s};if(t.current.controller==="unsubscribeController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"unsubscribe/mail";r.post(o,i).then(function(t){if(t.data.result==="OK"){e.success=true}else if(t.data.result==="error"){e.error=t.data.message;console.log("error",t.data.message)}else{console.log("error response",t)}},function(e){console.log("error response",e)})}})})}}]);angular.module("VacancyAppliedList",[],function(){}).controller("vacancyAppliedListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="vacancyAppliedListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"vacancy/applied/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.vacancies=t.data.data.vacancies;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Vacancy",[],function(){}).controller("vacancyController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.show_apply=false;e.show_applied=false;e.show_remove_favorite=false;e.show_add_favorite=false;e.server=rest_api_host;const i="Bearer "+a.get("rest_user_token");const l=s.id;const c=hr_authorized_id();e.user_id=c;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(t.current.controller==="vacancyController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){const t=rest_api_host+"vacancies/"+l+"/?include=Companies,CompanyAvatar,JobTypes,Country,Favorites,Applied&random="+get_random_number();r.get(t).then(function(t){if(t.data.vacancy){const a=t.data.vacancy;a.job_type=a.JobTypes.length>0?a.JobTypes[0].name:null;a.company_url=a.Companies.site;a.company_name=a.Companies.name;a.image=a.CompanyAvatar[0].path+a.CompanyAvatar[0].fileName;a.country=a.Country.name;e.vacancy=a;const r=a.Applied;const o=a.Favorites;if(c&&r&&r.length>0){[].forEach.call(r,function(t){if(parseInt(t.user_id)===c){e.show_applied=true}});if(!e.show_applied){e.show_apply=true}}else{e.show_apply=true}if(c&&o&&o.length>0){[].forEach.call(o,function(t){if(parseInt(t.user_id)===c){e.show_remove_favorite=true}});if(!e.show_remove_favorite){e.show_add_favorite=true}}else{e.show_add_favorite=true}}},function(e){console.log("error response",e)})}});e.removeFavorite=function(){if(c&&e.vacancy&&e.vacancy.id){const t=rest_api_host+"favorite/remove/"+e.vacancy.id+"?random="+get_random_number();r.get(t,{headers:{Authorization:i}}).then(function(t){if(t.data.result==="OK"){e.show_remove_favorite=false;e.show_add_favorite=true}else if(t.data.result==="error"){console.log("error",t.data.message)}else{console.log("error response",t)}},function(e){console.log("error response",e)})}};e.addFavorite=function(){if(c&&e.vacancy&&e.vacancy.id){const t=rest_api_host+"favorite/add/"+e.vacancy.id+"?random="+get_random_number();r.get(t,{headers:{Authorization:i}}).then(function(t){if(t.data.result==="OK"){e.show_remove_favorite=true;e.show_add_favorite=false}else if(t.data.result==="error"){console.log("error",t.data.message)}else{console.log("error response",t)}},function(e){console.log("error response",e)})}};e.applyVacancy=function(){if(c&&e.vacancy.id&&c){const t=rest_api_host+"vacancy/apply/"+e.vacancy.id+"?random="+get_random_number();r.get(t,{headers:{Authorization:i}}).then(function(t){if(t.data.result==="OK"){e.show_apply=false;e.show_applied=true}else if(t.data.result==="error"){console.log("error",t.data.message)}else{console.log("error response 1",t.data.data)}},function(e){console.log("error response",e)})}}})}}]);angular.module("VacancyCreate",[],function(){}).controller("vacancyCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=rest_api_host+"vacancy/create/";e.modelEdit=false;e.modelDelete=false;e.modelShow=false;e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){if(e.data.result&&e.data.result==="error"){$("#error_container").text("Error occurred");if(e.data.message==="company not found"){$("#error_container").text("Your company not found,<br> please first create company in your profile")}}else{$("#content_container").html(e.data.html);l.init();l.autocomplete();l.submit()}},function(e){console.log("error response",e)})});var l={init:function(){},autocomplete:function(){},submit:function(){var e=this;var t=document.querySelector("button[type=submit]");var a=t.closest("form");if(a){a.addEventListener("submit",function(t){t.preventDefault();t.stopPropagation();e.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var a=new FormData(e);var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=document.getElementById("error_container");e.innerHTML="";var a=JSON.parse(this.response);var r="";if(a.result==="error"){if(e){if(Array.isArray(a.message)){a.message.forEach(function(e){if(typeof e==="object"){for(var t in e){r+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){r+="<div>"+e+"</div>"}})}else if(typeof a.message==="object"){for(var o in a.message){r+="<div>"+o+" : "+a.message[o]+"</div>"}}else{r="<div>"+a.message+"</div>"}e.innerHTML=r;window.location.hash="top"}console.log("error",a.message,r)}else if(a.result==="OK"){console.log("OK");t.go("vacancy-list",{url:"/vacancy/list"})}else if(a.html){$("#content_container").html(a.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",i,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",s);r.send(a)}};if(t.current.controller==="vacancyCreateController"){angular.element(document).ready(function(){})}}]);angular.module("VacancyEdit",[],function(){}).controller("vacancyEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var i="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var l=s.id;e.$on("$viewContentLoaded",function(){var e=rest_api_host+"/vacancy/update/"+l;r.get(e,{headers:{Authorization:i}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);$("input[name=username]").attr("disabled","disabled");var t=document.getElementById("vacancy_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();c.hr_vacancy_edit(t);return false})}},function(e){console.log("error response",e)})});var c={appendCheckbox:function(e,t){},hr_vacancy_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=rest_api_host+"/vacancy/update/"+l;var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=document.getElementById("error_container");var a;if(e.result==="error"){if(t){a="";if(Array.isArray(e.message)){e.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.message==="object"){for(var r in e.message){a+="<div>"+r+" : "+e.message[r]+"</div>"}}else{a="<div>"+e.message+"</div>"}t.innerHTML=a;window.location.hash="top"}console.log("error",e.message,a)}else if(e.error){if(t){a="";if(Array.isArray(e.error.message)){e.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof e.error.message==="string"){try{var o=JSON.parse(e);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(t){console.log(t.message);a=e.error.message}}t.textContent=a;window.location.hash="top"}console.log("error",t,e.error.message)}else{console.log("success",e);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",i);r.send(t)}};if(t.current.controller==="vacancyEditController"){angular.element(document).ready(function(){})}}]);angular.module("VacancyFavoriteList",[],function(){}).controller("vacancyFavoriteListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="vacancyFavoriteListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"favorite/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.vacancies=t.data.data.vacancies;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("VacancyList",[],function(){}).controller("vacancyListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}e.goLink=function(t){window.location=e.pageUrl+"?page="+t};if(t.current.controller==="vacancyListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"/vacancy/list/"+s;r.get(o).then(function(t){e.vacancies=t.data.data.vacancies;e.totalItems=t.data.data.totalItems;e.totalPages=t.data.data.totalPages;e.limit=t.data.data.limit;e.current=t.data.data.current;e.before=t.data.data.before;e.next=t.data.data.next;e.last=t.data.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("VacancyUserList",[],function(){}).controller("vacancyUserListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.pagination="hr/templates/partial/pagination.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user_name();e.user_avatar=hr_user_avatar();var l=n.search().page;if(typeof l=="undefined"){l=1}if(!i){console.log("id not found");t.go("login",{url:"/login"})}if(t.current.controller==="vacancyUserListController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(t,a){if(a.toString()==="hr/templates/partial/footer.html"){var o=rest_api_host+"/vacancy/user/list/"+l;r.get(o,{headers:{Authorization:s}}).then(function(t){e.vacancies=t.data.vacancies;e.totalItems=t.data.totalItems;e.totalPages=t.data.totalPages;e.limit=t.data.limit;e.current=t.data.current;e.before=t.data.before;e.next=t.data.next;e.last=t.data.last;e.first=t.data.data.first;e.pagesRange=t.data.data.pagesRange;e.bottomInRange=t.data.data.bottomInRange;e.topInRange=t.data.data.topInRange;e.firstInRange=e.pagesRange.length>0?e.pagesRange[0]:0;e.lastInRange=e.pagesRange.length>0?e.pagesRange.slice(-1)[0]:0;e.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});o.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);window.rest_user_role="Unauthorized";String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};const admin_auth={frontHome:"/",frontLogin:"/login",frontRegister:"/profile-create",notAllowedUrls:[],check_auth:function(){window.rest_user_id=null;const e=admin_auth.get_cookies(),t=window.location.href;if(typeof e==="object"&&Object.keys(e).length>0){console.info("logged in");window.rest_user_role=e["rest_user_role"];window.rest_user_full_name=e["rest_user_full_name"];window.rest_user_id=e["rest_user_id"];window.rest_user_token=e["rest_user_token"];window.front_user=e["front_user"];if(t.indexOf(this.frontLogin)!==-1&&t.indexOf(this.frontRegister)!==-1){window.location.href=this.frontHome}}else{console.info("not logged");this.notAllowedUrls.forEach(function(e){if(t.indexOf(e)!==-1){console.info("not logged")}})}},get_cookies:function(){let e={};if(this.get_cookie("rest_user_role")!==""){e.rest_user_role=this.get_cookie("rest_user_role")}if(this.get_cookie("rest_user_id")!==""){e.rest_user_id=this.get_cookie("rest_user_id")}if(this.get_cookie("rest_user_token")!==""){e.rest_user_token=this.get_cookie("rest_user_token")}if(this.get_cookie("rest_user_full_name")!==""){e.rest_user_full_name=this.get_cookie("rest_user_full_name")}if(this.get_cookie("front_user")!==""){e.front_user=this.get_cookie("front_user")}return e},set_cookie:function(e,t,a){if(a){let r=new Date;r.setTime(r.getTime()+a*24*60*60*1e3);const o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}else{document.cookie=e+"="+t+";expires=0;path=/"}},get_cookie:function(e){let t=e+"=";let a=decodeURIComponent(document.cookie);let r=a.split(";");for(let e=0;e<r.length;e++){let a=r[e];while(a.charAt(0)===" "){a=a.substring(1)}if(a.indexOf(t)===0){return a.substring(t.length,a.length)}}return""},eraseCookie:function(e){this.set_cookie(e,"",-1)},login:function(e,t,a){setTimeout(function(){a=a||null;const r=document.getElementById("error_container");const o=rest_api_host+hr_login_post_url;const n=new XMLHttpRequest;let s=new FormData;s.append("username",e);s.append("password",t);let i="Basic "+btoa(e+":"+t);s.append("Authorization",i);n.onload=function(){if(this.readyState===4){if(this.status===200){try{const e=JSON.parse(this.response);admin_auth.set_cookies(e,a);window.location.href=admin_auth.frontHome}catch(e){if(r){r.textContent="Wrong login or password"}console.log("login error",e)}}else{if(r){r.textContent="Wrong login or password"}console.log("login error response",this.response)}}};n.open("POST",o,true);n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Authorization",i);n.send(s)},500)},logout:function(){setTimeout(function(){const e=document.getElementById("hr_nav_logout");if(e){e.addEventListener("click",function(e){e.stopPropagation();admin_auth.remove_cookies();window.location.reload()})}},500)},force_logout:function(){admin_auth.remove_cookies();window.location.reload()},set_cookies:function(e,t){const a=t?7:null;if(typeof e.data!=="undefined"&&typeof e.data.role!=="undefined"){this.set_cookie("rest_user_role",e.data.role,a)}let r;if(typeof e.data!=="undefined"&&typeof e.data.avatar!=="undefined"&&typeof e.data.avatar.path!=="undefined"&&typeof e.data.avatar.fileName!=="undefined"){this.set_cookie("rest_user_avatar_url",e.data.avatar.path+e.data.avatar.fileName,a)}else if(typeof e.data!=="undefined"&&typeof e.data.user.gender!=="undefined"){if(e.data.user.gender==="male"){r="/assets/images/new/men/man13.png"}else if(e.data.user.gender==="female"){r="/assets/images/new/women/woman13.png"}else{r="/assets/images/new/men/boy09.png"}this.set_cookie("rest_user_avatar_url",r,a)}if(typeof e.data!=="undefined"&&typeof e.data.token!=="undefined"){this.set_cookie("rest_user_token",e.data.token,a)}if(typeof e.data!=="undefined"&&typeof e.data.user.id!=="undefined"){this.set_cookie("rest_user_id",e.data.user.id,a)}if(typeof e.data!=="undefined"&&typeof e.data.user.id!=="undefined"){const t=e.data.user.name+" "+e.data.user.surname;this.set_cookie("rest_user_full_name",t,a)}if(typeof e.data!=="undefined"&&typeof e.data.user!=="undefined"){const t=JSON.stringify(e.data.user);this.set_cookie("front_user",t,a);localStorage.setItem("front_user",t)}},remove_cookies:function(){this.eraseCookie("rest_user_role");this.eraseCookie("rest_user_id");this.eraseCookie("rest_user_token");this.eraseCookie("rest_user_full_name");this.eraseCookie("front_user");localStorage.removeItem("front_user")},get_token:function(){return this.get_cookie("rest_user_token")}};admin_auth.check_auth();function getParameterByName(e,t){if(!t)t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=a.exec(t);if(!r)return null;if(!r[2])return"";return decodeURIComponent(r[2].replace(/\+/g," "))}function get_random_number(e=19487596549463){return Math.floor(Math.random()*e)+1}function hr_rest_distinct(e,t){let a=[];let r=[];[].forEach.call(e,function(e){if(a[e[t]]===undefined){r.push(e)}a[e[t]]=0});return r}function hr_rest_awesomplete(e,t,a,r,o){const n=new XMLHttpRequest;const s=admin_auth.get_token();let i=[];n.open("GET",a,true);n.onload=function(){try{let a=JSON.parse(n.responseText);if(o){let r=a[t];r=hr_rest_distinct(r,e);o[t+"_"+e]=r}i=a[t].map(function(t){return t[e]});i=i.filter(function(e,t,a){return a.indexOf(e)===t});new Awesomplete(document.querySelector(r),{list:i})}catch(e){console.log("hr_rest_awesomplete_error",e)}};n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Authorization",s);n.send()}function hr_rest_awesomplete_mass(e,t,a,r,o){const n=new XMLHttpRequest;const s=admin_auth.get_token();let i=[];n.open("GET",a,true);n.onload=function(){try{let a=JSON.parse(n.responseText);if(o){let r=a[t];r=hr_rest_distinct(r,e);o[t+"_"+e]=r}r.forEach(function(e){i=a[t].map(function(t){return t[e.field]});i=i.filter(function(e,t,a){return a.indexOf(e)===t});new Awesomplete(document.querySelector(e.selector),{list:i})})}catch(a){console.log("hr_rest_awesomplete_error",a,t+"_"+e)}};n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Authorization",s);n.send()}function hr_rest_fill_model(e,t,a,r){const o=new XMLHttpRequest;const n=admin_auth.get_token();o.open("GET",a,true);o.onload=function(){try{let a=JSON.parse(o.responseText);let n=a[t];n=hr_rest_distinct(n,e);r[t+"_"+e]=n}catch(e){console.log("fill_model_error",e)}};o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.setRequestHeader("Authorization",n);o.send()}let hr_rest_booking_offset=0;let hr_rest_product_offset=0;let hr_rest_user_offset=0;let hr_rest_message_offset=0;let hr_rest_payment_offset=0;let hr_rest_admin_offset=0;let hr_rest_limit=100;const DateDiff={inDays:function(e,t){const a=t.getTime();const r=e.getTime();return parseInt((a-r)/(24*3600*1e3))},inWeeks:function(e,t){const a=t.getTime();const r=e.getTime();return parseInt((a-r)/(24*3600*1e3*7))},inMonths:function(e,t){const a=e.getFullYear();const r=t.getFullYear();const o=e.getMonth();const n=t.getMonth();return n+12*r-(o+12*a)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()}};function hr_sanitize_checkbox(e){const t=e.querySelectorAll("input[type=checkbox]");[].forEach.call(t,function(e){if(e.checked){e.value=1;e.setAttribute("checked","checked")}else{e.value=0;e.removeAttribute("checked")}})}function hr_successEdit(e){e=e||null;const t=document.querySelector("#hr_success_container");if(t){t.textContent="Successfully updated";setTimeout(function(){t.textContent=""},3e3)}if(e){const t=e.querySelectorAll("input[type=checkbox]");[].forEach.call(t,function(e){if(e.value&&e.value==1){e.setAttribute("checked","checked")}else{e.value=0;e.removeAttribute("checked")}})}}function hr_get_roles(){const e=admin_auth.get_cookie("rest_user_role");const t=["admin","superadmin","companyAdmin","manager","employer","applicant","partner","expert","author","unauthorized"];if(t.indexOf(e)!==-1){return e}else{window.location.href=hr_login_url}}function hr_user_avatar(){return rest_api_host+admin_auth.get_cookie("rest_user_avatar_url")}function hr_user_name(){return admin_auth.get_cookie("rest_user_full_name")}function hr_authorized_id(){return parseInt(admin_auth.get_cookie("rest_user_id"))}function hr_authorized(){const e=admin_auth.get_cookie("rest_user_id");return e!==""}function hr_admin(){const e=admin_auth.get_cookie("rest_user_avatar_url");return e==="admin"||e==="superadmin"}function dataURLtoFile(e,t){let a=e.split(","),r=a[0].match(/:(.*?);/)[1],o=atob(a[1]),n=o.length,s=new Uint8Array(n);while(n--){s[n]=o.charCodeAt(n)}const i=new File([s],t,{type:r});console.log("file obj ",i);return i}function hr_user(){return admin_auth.get_cookie("front_user")}document.addEventListener("DOMContentLoaded",function(e){if(admin_auth.get_cookie("close_cookies_block")===""){const e=document.getElementById("wr-cookies-notice");if(e){e.classList.remove("hidden")}}admin_auth.logout()});