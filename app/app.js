window.hr_offset=0;window.hr_user_offset=0;var rest_api_host="http://hr.me/";var the_host="http://ir.me";var redirectUrl="/login";var hr_login_get_url="/login";var hr_login_post_url="users/authenticate";var hr_login_recovery_get_url="password/recovery";var hr_login_recovery_post_url="users/recovery";var hr_new_password_get_url="password/new";var hr_new_password_post_url="users/password";var hr_form_create="/api/form/create";var hr_form_create_main="/api/form/create/main";var hr_form_create_image="/api/form/create/image";var hr_form_create_related="api/form/create/related";var hr_form_create_related_image="/api/form/create/related/image";var hr_form_delete_related="/api/form/delete/related";var hr_mail_subscription_url="/subscribe/mail";var hr_user_list_url="user-list";var hr_user_item_url="user-item";var hr_user_edit_url="user-edit";var hr_user_create_url="user-create";var hr_user_search_url="user-search";var hr_profile_url="user-profile";var hr_profile_edit_url="profile-edit";var hr_profile_create_url="profile-create";var hr_profile_autoresponder_url="profile-autoresponder";var hr_home_url="/";var hr_login_url="login";var hr_signup_url="signup";var hr_edit_user_key="edit-user";var hr_profile_key="user";var rest_admin_confirm_user="confirm-user";var avatar_url="/avatar/create";var navbar={admin:"templates/admin-navbar.html",nav:"templates/navbar.html"};var crop_opts={viewport:{width:300,height:300,type:"circle"},step:.05,boundary:{width:300,height:300},showZoomer:false};var scripts=["js/vendor/js/jquery/jquery.js","https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js","js/components/awesomplete.js","http://underscorejs.org/underscore-min.js","js/components/jquery.dataTables.min.js","css/components/jquery.dataTables.min.css","css/components/jquery.dataTables.reset.css","css/components/awesomplete.css"];var $=jQuery.noConflict();var app=angular.module("site",["ui.router","ngResource","uiRouterStyles","ngCookies","ngSanitize","notFound","Article","Articles","Books","Certification","Company","CompanyCreate","CompanyEdit","CompanyList","Confirm User","Contact","Education","EducationCreate","EducationEdit","EducationList","Educations","Experience","ExperienceCreate","ExperienceEdit","ExperienceList","Events","Hardware","Home","Job","Migration","Link","Links","Login","Login Recovery","New Password","Profile","ProfileCreate","ProfileEdit","Resume","ResumeCreate","ResumeEdit","ResumeList","ResumeUserList","ResumeFavoriteList","ResumeInvitedList","SearchResume","SearchArticle","SearchVacancy","Software","Subscribe","Tests","Unsubscribe","Vacancy","VacancyCreate","VacancyEdit","VacancyList","VacancyUserList","VacancyFavoriteList","VacancyAppliedList","SubcategoryArticles"]);app.config(["$locationProvider",function(e){e.hashPrefix("");e.html5Mode(true)}]);app.config(["$stateProvider","$urlRouterProvider","$cookiesProvider",function(e,t,a){e.state("home",{url:"/",controller:"homeController",templateUrl:"hr/templates/home.html",data:{title:"Home",css:"assets/css/home.css"}}).state("job",{url:"/job",controller:"jobController",templateUrl:"hr/templates/job.html",data:{title:"Job",css:"assets/css/job.css"}}).state("events",{url:"/events",controller:"eventsController",templateUrl:"hr/templates/events.html",data:{title:"Events",css:"assets/css/events.css"}}).state("educations",{url:"/educations",controller:"educationsController",templateUrl:"hr/templates/educations.html",data:{title:"Educations",css:"assets/css/educations.css"}}).state("books",{url:"/books",controller:"booksController",templateUrl:"hr/templates/books.html",data:{title:"Books",css:"assets/css/books.css"}}).state("tests",{url:"/tests",controller:"testsController",templateUrl:"hr/templates/tests.html",data:{title:"Tests",css:"assets/css/tests.css"}}).state("migration",{url:"/migration",controller:"migrationController",templateUrl:"hr/templates/migration.html",data:{title:"Migration",css:"assets/css/migration.css"}}).state("certification",{url:"/certification",controller:"certificationController",templateUrl:"hr/templates/certification.html",data:{title:"Certification",css:"assets/css/certification.css"}}).state("software",{url:"/software",controller:"softwareController",templateUrl:"hr/templates/software.html",data:{title:"Software",css:"assets/css/software.css"}}).state("hardware",{url:"/hardware",controller:"hardwareController",templateUrl:"hr/templates/hardware.html",data:{title:"Hardware",css:"assets/css/hardware.css"}}).state("search-resume",{url:"/search-resume",controller:"searchResumeController",templateUrl:"hr/templates/search-resume.html",data:{title:"Search",css:"assets/css/search-resume.css"}}).state("search-article",{url:"/search-article",controller:"searchArticleController",templateUrl:"hr/templates/search-article.html",data:{title:"Search",css:"assets/css/search-article.css"}}).state("search-vacancy",{url:"/search-vacancy",controller:"searchVacancyController",templateUrl:"hr/templates/search-vacancy.html",data:{title:"Search",css:"assets/css/search-vacancy.css"}}).state("article",{url:"/article/:id",controller:"articleController",templateUrl:"hr/templates/article.html",data:{title:"Article",css:"assets/css/article.css"}}).state("articles",{url:"/articles",controller:"articlesController",templateUrl:"hr/templates/articles.html",data:{title:"Articles",css:"assets/css/articles.css"}}).state("subcategory-articles",{url:"/subcategory/articles/:id",controller:"subcategoryArticlesController",templateUrl:"hr/templates/articles.html",data:{title:"Articles",css:"assets/css/articles.css"}}).state("profile-edit",{url:"/profile/edit",controller:"profileEditController",templateUrl:"hr/templates/profile-edit.html",data:{title:"Edit Profile ",css:"assets/css/profile-edit.css"}}).state("profile-create",{url:"/profile/create",controller:"profileCreateController",templateUrl:"hr/templates/profile-create.html",data:{title:"Create Profile ",css:"assets/css/profile-create.css"}}).state("profile",{url:"/profile",controller:"profileController",templateUrl:"hr/templates/profile.html",data:{title:"Profile",css:"assets/css/profile.css"}}).state("resume-edit",{url:"/resume/edit/:id",controller:"resumeEditController",templateUrl:"hr/templates/resume-edit.html",data:{title:"Edit Resume ",css:"assets/css/resume-edit.css"}}).state("resume-create",{url:"/resume/create",controller:"resumeCreateController",templateUrl:"hr/templates/resume-create.html",data:{title:"Create Resume ",css:"assets/css/resume-create.css"}}).state("resume-list",{url:"/resume/list",controller:"resumeListController",templateUrl:"hr/templates/resume-list.html",data:{title:"List Resume ",css:"assets/css/resume-list.css"}}).state("resume-user-list",{url:"/resume/user/list",controller:"resumeUserListController",templateUrl:"hr/templates/resume-user-list.html",data:{title:"User Resume List",css:"assets/css/resume-user-list.css"}}).state("resume-favorite-list",{url:"/resume/favorite/list",controller:"resumeFavoriteListController",templateUrl:"hr/templates/resume-favorite-list.html",data:{title:"Favorite Resume List",css:"assets/css/resume-user-list.css"}}).state("resume-invited-list",{url:"/resume/invited/list",controller:"resumeInvitedListController",templateUrl:"hr/templates/resume-invited-list.html",data:{title:"Invited Resume List",css:"assets/css/resume-user-list.css"}}).state("resume",{url:"/resume/:id",controller:"resumeController",templateUrl:"hr/templates/resume.html",data:{title:"Resume",css:"assets/css/resume.css"}}).state("vacancy-edit",{url:"/vacancy/edit/:id",controller:"vacancyEditController",templateUrl:"hr/templates/vacancy-edit.html",data:{title:"Edit Vacancy ",css:"assets/css/vacancy-edit.css"}}).state("vacancy-create",{url:"/vacancy/create",controller:"vacancyCreateController",templateUrl:"hr/templates/vacancy-create.html",data:{title:"Create Vacancy ",css:"assets/css/vacancy-create.css"}}).state("vacancy-list",{url:"/vacancy/list",controller:"vacancyListController",templateUrl:"hr/templates/vacancy-list.html",data:{title:"List Vacancy ",css:"assets/css/vacancy-list.css"}}).state("vacancy-favorite-list",{url:"/vacancy/favorite/list",controller:"vacancyFavoriteListController",templateUrl:"hr/templates/vacancy-favorite-list.html",data:{title:"Favorite Vacancy List",css:"assets/css/vacancy-favorite-list.css"}}).state("vacancy-applied-list",{url:"/vacancy/applied/list",controller:"vacancyAppliedListController",templateUrl:"hr/templates/vacancy-applied-list.html",data:{title:"Applied Vacancy List",css:"assets/css/vacancy-favorite-list.css"}}).state("vacancy-user-list",{url:"/vacancy/user/list",controller:"vacancyUserListController",templateUrl:"hr/templates/vacancy-user-list.html",data:{title:"User Vacancy List",css:"assets/css/vacancy-user-list.css"}}).state("vacancy",{url:"/vacancy/:id",controller:"vacancyController",templateUrl:"hr/templates/vacancy.html",data:{title:"Vacancy",css:"assets/css/vacancy.css"}}).state("education-edit",{url:"/education/edit/:id",controller:"educationEditController",templateUrl:"hr/templates/education-edit.html",data:{title:"Edit Education ",css:"assets/css/education-edit.css"}}).state("education-create",{url:"/education/create",controller:"educationCreateController",templateUrl:"hr/templates/education-create.html",data:{title:"Create Education ",css:"assets/css/education-create.css"}}).state("education-list",{url:"/education/list",controller:"educationListController",templateUrl:"hr/templates/education-list.html",data:{title:"List Education ",css:"assets/css/education-list.css"}}).state("education",{url:"/education/:id",controller:"educationController",templateUrl:"hr/templates/education.html",data:{title:"Education",css:"assets/css/education.css"}}).state("experience-edit",{url:"/experience/edit/:id",controller:"experienceEditController",templateUrl:"hr/templates/experience-edit.html",data:{title:"Edit Experience ",css:"assets/css/experience-edit.css"}}).state("experience-create",{url:"/experience/create",controller:"experienceCreateController",templateUrl:"hr/templates/experience-create.html",data:{title:"Create Experience ",css:"assets/css/experience-create.css"}}).state("experience-list",{url:"/experience/list",controller:"experienceListController",templateUrl:"hr/templates/experience-list.html",data:{title:"List Experience ",css:"assets/css/experience-list.css"}}).state("experience",{url:"/experience/:id",controller:"experienceController",templateUrl:"hr/templates/experience.html",data:{title:"Experience",css:"assets/css/experience.css"}}).state("company-edit",{url:"/company/edit/:id",controller:"companyEditController",templateUrl:"hr/templates/company-edit.html",data:{title:"Edit Company ",css:"assets/css/company-edit.css"}}).state("company-create",{url:"/company/create",controller:"companyCreateController",templateUrl:"hr/templates/company-create.html",data:{title:"Create Company ",css:"assets/css/company-create.css"}}).state("company",{url:"/company/:id",controller:"companyController",templateUrl:"hr/templates/company.html",data:{title:"Company",css:"assets/css/company.css"}}).state("company-list",{url:"/company/list",controller:"companyListController",templateUrl:"hr/templates/company-list.html",data:{title:"Companies ",css:"assets/css/company-list.css"}}).state("confirm",{url:"/confirm",controller:"confirmUserController",templateUrl:"hr/templates/confirm-user.html",data:{title:"",css:"assets/css/confirm-user.css"}}).state("subscribe",{url:"/subscribe",controller:"subscribeController",templateUrl:"hr/templates/subscribe.html",data:{title:"",css:"assets/css/subscribe.css"}}).state("contact",{url:"/contact",controller:"contactController",templateUrl:"hr/templates/contact.html",data:{title:"Contacts",css:"assets/css/contact.css"}}).state("not-found",{url:"/not-found",controller:"notFoundController",templateUrl:"hr/templates/404.html",data:{title:"404",css:"assets/css/404.css"}}).state("login",{url:"/login",controller:"loginController",templateUrl:"hr/templates/login.html",data:{title:"Login",css:"assets/css/login.css"}}).state("logout",{url:"/logout",controller:"loginController",templateUrl:"hr/templates/login.html",data:{title:"Login",css:"assets/css/login.css"}}).state("login-recovery",{url:"/login-recovery",controller:"loginRecoveryController",templateUrl:"hr/templates/login-recovery.html",data:{title:"Password Recovery",css:"assets/css/login-recovery.css"}}).state("new-password",{url:"/new_password.html",controller:"newPasswordController",templateUrl:"hr/templates/new-password.html",data:{title:"New Password",css:"assets/css/new-password.css"}}).state("unsubscribe",{url:"/unsubscribe",controller:"unsubscribeController",templateUrl:"hr/templates/unsubscribe.html",data:{title:"Unsubscribe",css:"assets/css/unsubscribe.css"}});t.otherwise("/not_found")}]);angular.module("Article",[],function(){console.log("module Article init")}).controller("articleController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(r,e,t,o,a,n,s){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.lang=1;r.show_select=false;r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var l=s.id;if(e.current.controller==="articleController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"articles/"+l;o.get(a).then(function(e){r.article=e.data.article;r.lang=r.article.language_id;var t=jQuery("#banner");var a=[];if(t[0]){a=t[0].querySelectorAll("option")}[].forEach.call(a,function(e){e.removeAttribute("selected")});[].forEach.call(a,function(e){var t=parseInt(e.getAttribute("value"));if(t===r.lang){e.setAttribute("selected","selected")}});r.show_select=true;t.chosen({width:"100px"});t.chosen().change(function(){r.lang=parseInt($(this).val());var e=rest_api_host+"article-translated/"+r.article.id+"/"+r.lang;o.get(e).then(function(e){r.article.title=e.data.title;r.article.text=e.data.text})})},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Articles",[],function(){console.log("module Articles init")}).controller("articlesController",["$scope","$state","$cookies","$http","$templateCache","$location",function(o,e,t,n,a,r){o.hr_rest_limit=100;o.header_content="hr/templates/partial/header-content.html";o.header_background="hr/templates/partial/header-background.html";o.top_menu="hr/templates/partial/top-menu.html";o.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";o.footer="hr/templates/partial/footer.html";o.user_id=hr_authorized_id();o.user_name=hr_user();o.user_avatar=hr_user_avatar();var s=r.search().page;var l=r.search().category;var i=r.search().tag;if(typeof s=="undefined"){s=1}if(e.current.controller==="articlesController"){o.$on("$viewContentLoaded",function(){o.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a="";if(l||i||s){a="?";if(typeof l!="undefined"){a+="category="+l+"&"}if(typeof i!="undefined"){a+="tag="+i+"&"}if(typeof s!="undefined"){a+="page="+s+"&"}a=a.slice(0,-1)}var r=rest_api_host+"articles-list"+a;n.get(r).then(function(e){console.log(e);o.articles=e.data.data.articles;o.totalItems=e.data.data.totalItems;o.totalPages=e.data.data.totalPages;o.limit=e.data.data.limit;o.current=e.data.data.current;o.before=e.data.data.before;o.next=e.data.data.next;o.last=e.data.data.last;o.first=e.data.data.first;o.pagesRange=e.data.data.pagesRange;o.bottomInRange=e.data.data.bottomInRange;o.topInRange=e.data.data.topInRange;o.firstInRange=o.pagesRange.length>0?o.pagesRange[0]:0;o.lastInRange=o.pagesRange.length>0?o.pagesRange.slice(-1)[0]:0;o.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Books",[],function(){console.log("module Books init")}).controller("booksController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("Certification",[],function(){console.log("module Certification init")}).controller("certificationController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("Company",[],function(){console.log("module Company init")}).controller("companyController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(r,t,e,o,a,n,s){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";var l="Bearer "+e.get("rest_user_token");var i=hr_authorized_id();r.user_id=i;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var c=s.id;r.company_id=c;console.log(888,r.company_id);var u=rest_api_host+"company/delete/"+c;r.deleteCompany=function(){if(!i){return false}if(confirm("Are you sure?")===false){return false}o.get(u,{headers:{Authorization:l}}).then(function(e){console.log("delete",e);if(e.result==="OK"){}if(e.data.result==="OK"){t.go("company-list",{url:"/company/list"})}else if(e.data.result==="error"){r.error=e.data.message;console.log("error",e.data.message)}else{r.error="Something went wrong";console.log("error response",e)}},function(e){r.error="Something went wrong";console.log("error response",e)})};if(t.current.controller==="companyController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"companies/"+c+"?include=Countries,Images";o.get(a).then(function(e){r.company=e.data.company;r.avatar=rest_api_host+r.company.Images.path+r.company.Images.fileName},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("CompanyCreate",[],function(){console.log("module CompanyCreate init")}).controller("companyCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,o,t,a,r,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){o.go("login",{url:"/login"})}var l=rest_api_host+"company/create";e.$on("$viewContentLoaded",function(){a.get(l,{headers:{Authorization:s}}).then(function(e){$("#content_container").html(e.data.html);i.init();i.autocomplete();i.submit()},function(e){console.log("error response",e)})});var i={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){console.log(this.response);try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);console.log("response",t);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");o.go("company-list",{url:"/company/list"})}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",l,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",s);a.send(t)}};if(o.current.controller==="companyCreateController"){angular.element(document).ready(function(){})}}]);angular.module("CompanyEdit",[],function(){console.log("module CompanyEdit init")}).controller("companyEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var l="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=i;e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!i){console.log("id not found");t.go("login",{url:"/login"})}var c=s.id;var u=rest_api_host+"/company/update/"+c;e.$on("$viewContentLoaded",function(){r.get(u,{headers:{Authorization:l}}).then(function(e){console.log("loaded",(new Date).getTime());console.log("form",e.data.html);$("#content_container").html(e.data.html);var t=document.getElementById("company_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();d.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var d={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var t=JSON.parse(this.response);var e=document.getElementById("error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",u,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",l);a.send(t)}};if(t.current.controller==="companyEditController"){angular.element(document).ready(function(){})}}]);angular.module("CompanyList",[],function(){console.log("module CompanyList init")}).controller("companyListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();r.not_empty=false;var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="companyListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"/company/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){console.log(123,e.data);var t=document.getElementById("error_container");if(e.data.result==="error"){if(t){t.textContent=e.data.message}console.log("login error",e.data.message);return}var a="Something went wrong";if(e.data.data.companies&&e.data.data.companies.length===0){a="You have no companies"}if(e.data.data.companies&&e.data.data.companies.length>0){r.companies=e.data.data.companies;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname;if(r.totalPages>1){r.not_empty=true}}else{if(t){t.textContent=a}console.log("login error",e.data.message)}},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Confirm User",[],function(){console.log("module New Password init")}).controller("confirmUserController",["$scope","$state","$cookies","$location",function(e,a,t,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();var o=r.search().email;var n=r.search().confirm_token;var s="/users/confirm/email";e.$on("$viewContentLoaded",function(){l.init()});var l={init:function(){var e=rest_api_host+s+"?email="+o+"&confirm_token="+n;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{$("#ajax_loader").hide();$("#confirm_container").html('<div class="recovery-response"><span class="olive-color email-confirmed">'+"Email Confirmed!"+"</span></div>");setTimeout(function(){a.go("login",{url:"/login"})},3e3)}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("POST",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()}};if(a.current.controller==="confirmUserController"){angular.element(document).ready(function(){})}}]);angular.module("Contact",[],function(){console.log("module Contact init")}).controller("contactController",["$scope",function(e){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("Education",[],function(){console.log("module Education init")}).controller("educationController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var s=window.location.pathname.split("/").pop();if(e.current.controller==="educationController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"education"+s;o.get(a).then(function(e){r.education=e.data;$("#content_container").html(e.data.html)},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("EducationCreate",[],function(){console.log("module EducationCreate init")}).controller("educationCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,o,t,a,r,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){o.go("login",{url:"/login"})}var l=rest_api_host+"education/create";e.$on("$viewContentLoaded",function(){a.get(l,{headers:{Authorization:s}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);i.init();i.autocomplete();i.submit()},function(e){console.log("error response",e)})});var i={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){console.log(this.response);try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");alert("ok");o.go("profile",{url:"/profile"})}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",l,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",s);a.send(t)}};if(o.current.controller==="educationCreateController"){angular.element(document).ready(function(){})}}]);angular.module("EducationEdit",[],function(){console.log("module EducationEdit init")}).controller("educationEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var l="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=s.id;var c=rest_api_host+"/education/update/"+i;e.$on("$viewContentLoaded",function(){r.get(c,{headers:{Authorization:l}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);var t=document.getElementById("education_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();u.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var u={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var t=JSON.parse(this.response);var e=document.getElementById("error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",c,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",l);a.send(t)}};if(t.current.controller==="educationEditController"){angular.element(document).ready(function(){})}}]);angular.module("EducationList",[],function(){console.log("module EducationList init")}).controller("educationListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="educationListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"education/user/list?page="+s;o.get(a).then(function(e){r.educations=e.data.educations;r.totalItems=e.data.totalItems;r.totalPages=e.data.totalPages;r.limit=e.data.limit;r.current=e.data.current;r.before=e.data.before;r.next=e.data.next;r.last=e.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Educations",[],function(){console.log("module Educations init")}).controller("educationsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(n,e,t,s,a,r){var l=r.search().page;n.show_select=true;if(!l){l=1}n.hr_rest_limit=100;n.header_content="hr/templates/partial/header-content.html";n.header_background="hr/templates/partial/header-background.html";n.header_search="hr/templates/partial/header-search-keywords.html";n.top_menu="hr/templates/partial/top-menu.html";n.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";n.footer="hr/templates/partial/footer.html";n.user_id=hr_authorized_id();n.user_name=hr_user();n.user_avatar=hr_user_avatar();n.institutions=[];n.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"institutions/list"+"?include=Countries,EducationLevel&page="+l;s.get(a).then(function(e){if(e.data.data.institutions){n.institutions=e.data.data.institutions}});var r=jQuery("#banner");var o=[];if(r[0]){o=r[0].querySelectorAll("option")}n.show_select=true;r.chosen({width:"100px"});r.chosen().change(function(){n.lang=parseInt($(this).val());[].forEach.call(o,function(e){e.removeAttribute("selected")});[].forEach.call(o,function(e){var t=parseInt(e.getAttribute("value"));if(t===n.lang){e.setAttribute("selected","selected")}})})}})}]);angular.module("Events",[],function(){console.log("module Events init")}).controller("eventsController",["$scope","$state","$cookies","$http","$templateCache","$location",function(i,e,t,c,a,r){i.hr_rest_limit=100;i.hr_rest_limit=100;i.header_content="hr/templates/partial/header-content.html";i.header_background="hr/templates/partial/header-background.html";i.header_search="hr/templates/partial/header-search-keywords.html";i.top_menu="hr/templates/partial/top-menu.html";i.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";i.footer="hr/templates/partial/footer.html";var u=r.search().page;if(!u)u=1;i.active_menu="home";i.user_id=hr_authorized_id();i.user_name=hr_user();i.user_avatar=hr_user_avatar();i.subcategories=[];i.data="";i.$on("$viewContentLoaded",function(){i.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"categories/sub/events"+"?page="+u;c.get(a).then(function(e){console.log("data events",e);i.subcategories=e.data.data.subcategory;i.totalItems=e.data.data.totalItems;i.totalPages=e.data.data.totalPages;i.limit=e.data.data.limit;i.current=e.data.data.current;i.before=e.data.data.before;i.next=e.data.data.next;i.last=e.data.data.last;i.first=e.data.data.first;i.pagesRange=e.data.data.pagesRange;i.bottomInRange=e.data.data.bottomInRange;i.topInRange=e.data.data.topInRange;i.firstInRange=i.pagesRange.length>0?i.pagesRange[0]:0;i.lastInRange=i.pagesRange.length>0?i.pagesRange.slice(-1)[0]:0;i.pageUrl=window.location.origin+window.location.pathname});var r=jQuery("#banner");var o=[];if(r[0]){o=r[0].querySelectorAll("option")}i.show_select=true;r.chosen({width:"100px"});r.chosen().change(function(){i.lang=parseInt($(this).val());[].forEach.call(o,function(e){e.removeAttribute("selected")});[].forEach.call(o,function(e){var t=parseInt(e.getAttribute("value"));if(t===i.lang){e.setAttribute("selected","selected")}})});var l=document.getElementById("full_text_search_form");l.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();var t=l.querySelector("#search_keywords");var a=t?t.value:null;var r=l.querySelector("#banner");var o=r?r.value:null;var n="?page="+u;if(o){n+="&country="+o}if(a){n+="&q="+a}console.warn(1,a,o);var s=rest_api_host+"categories/sub/events"+n;c.get(s).then(function(e){console.log("data events",e);i.subcategories=e.data.data.subcategory;i.totalItems=e.data.data.totalItems;i.totalPages=e.data.data.totalPages;i.limit=e.data.data.limit;i.current=e.data.data.current;i.before=e.data.data.before;i.next=e.data.data.next;i.last=e.data.data.last;i.first=e.data.data.first;i.pagesRange=e.data.data.pagesRange;i.bottomInRange=e.data.data.bottomInRange;i.topInRange=e.data.data.topInRange;i.firstInRange=i.pagesRange.length>0?i.pagesRange[0]:0;i.lastInRange=i.pagesRange.length>0?i.pagesRange.slice(-1)[0]:0;i.pageUrl=window.location.origin+window.location.pathname})})}})})}]);angular.module("Experience",[],function(){console.log("module Experience init")}).controller("experienceController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(r,e,t,o,a,n,s){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var l=s.id;if(e.current.controller==="experienceController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"experience"+l;o.get(a).then(function(e){r.experience=e.data},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("ExperienceCreate",[],function(){console.log("module ExperienceCreate init")}).controller("experienceCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,o,t,a,r,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){o.go("login",{url:"/login"})}var l=rest_api_host+"experience/create";e.$on("$viewContentLoaded",function(){a.get(l,{headers:{Authorization:s}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);i.init();i.autocomplete();i.submit()},function(e){console.log("error response",e)})});var i={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){console.log(this.response);try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");alert("ok");o.go("profile",{url:"/profile"})}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",l,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",s);a.send(t)}};if(o.current.controller==="experienceCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ExperienceEdit",[],function(){console.log("module ExperienceEdit init")}).controller("experienceEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var l="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=s.id;var c=rest_api_host+"/experience/update/"+i;e.$on("$viewContentLoaded",function(){r.get(c,{headers:{Authorization:l}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);var t=document.getElementById("experience_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();u.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var u={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var t=JSON.parse(this.response);var e=document.getElementById("error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",c,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",l);a.send(t)}};if(t.current.controller==="experienceEditController"){angular.element(document).ready(function(){})}}]);angular.module("ExperienceList",[],function(){console.log("module ExperienceList init")}).controller("experienceListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="experienceListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"experience/user/list?page="+s;o.get(a).then(function(e){r.experiences=e.data.experiences;r.totalItems=e.data.totalItems;r.totalPages=e.data.totalPages;r.limit=e.data.limit;r.current=e.data.current;r.before=e.data.before;r.next=e.data.next;r.last=e.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Hardware",[],function(){console.log("module Hardware init")}).controller("hardwareController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("Home",[],function(){console.log("module Home init")}).controller("homeController",["$scope","$http",function(r,o){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.home_content="hr/templates/partial/home-content.html";r.home_content_mobile="hr/templates/partial/home-content-mobile.html";r.footer="hr/templates/partial/footer.html";r.active_menu="home";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();r.route_home=true;r.totalVacancies=0;r.totalResumes=0;r.totalArticles=0;r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){var a=rest_api_host+"home";o.get(a).then(function(e){console.log("data home",e);if(typeof e.data.vacancies!="undefined")r.totalVacancies=e.data.vacancies;if(typeof e.data.resumes!="undefined")r.totalResumes=e.data.resumes;if(typeof e.data.articles!="undefined")r.totalArticles=e.data.articles;r.hasVacancies=r.totalVacancies>0;r.hasResumes=r.totalResumes>0;r.hasArticles=r.totalArticles>0});if(t.toString()==="hr/templates/partial/footer.html"){$("#main_search_form").validate({rules:{field:{required:true}}});$("#mobile_main_search").validate({rules:{field:{required:true}}})}})})}]);angular.module("Job",[],function(){console.log("module Job init")}).controller("jobController",["$scope","$http",function(r,o){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.job_content="hr/templates/partial/job-content.html";r.job_content_mobile="hr/templates/partial/job-content-mobile.html";r.footer="hr/templates/partial/footer.html";r.totalVacancies=0;r.totalResumes=0;r.totalCountries=1;r.active_menu="job";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"home";o.get(a).then(function(e){console.log("data job",e);if(typeof e.data.vacancies!="undefined")r.totalVacancies=e.data.vacancies;if(typeof e.data.resumes!="undefined")r.totalResumes=e.data.resumes;if(typeof e.data.countries!="undefined")r.totalCountries=e.data.countries;r.hasVacancies=r.totalVacancies>0;r.hasResumes=r.totalResumes>0;r.hasCountries=r.totalCountries>1});$("#job_search_form").validate({rules:{field:{required:true,email:true}}});$("#mobile_job_search").validate({rules:{field:{required:true,email:true}}})}})})}]);angular.module("Link",[],function(){console.log("module Link init")}).controller("linkController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(r,e,t,o,a,n,s){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var l=s.id;if(e.current.controller==="linkController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"articles-linked/"+l;o.get(a).then(function(e){r.article=e.data},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Links",[],function(){console.log("module Links init")}).controller("linksController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();if(e.current.controller==="linksController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"articles";o.get(a).then(function(e){console.log(e.data.data.articles);r.articles=e.data.data.articles;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("Login",[],function(){console.log("module Login init")}).controller("loginController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var o=hr_authorized_id();e.user_id=o;e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(o){t.go("home",{url:"/"})}e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_login_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);$("#login_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("login_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();n.login(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var n={login:function(e){var t,a,r;if(typeof e.username.value!="undefined"){t=e.username.value}else{alert("Username not defined");return false}if(typeof e.password.value!="undefined"){a=e.password.value}else{alert("password not defined");return false}if(typeof e.remember.checked!=="undefined"&&e.remember.checked){r=e.remember.checked}else{r=null}admin_auth.login(t,a,r)}}}]);console.log("start",(new Date).getTime());angular.module("Login Recovery",[],function(){console.log("module Login Recovery init")}).controller("loginRecoveryController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_login_recovery_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);console.log(e.html);$("#login_recovery_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("login_recovery_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();o.login_recovery(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var o={login_recovery:function(e){var t=new FormData(e);var a=rest_api_host+hr_login_recovery_post_url;var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);var t=e.result;$("#login_recovery_container").html('<div class="recovery-response">'+t+"</div>")}catch(e){console.log("error",e)}}else{console.log("error login recovery response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(t)}}}]);angular.module("Migration",[],function(){console.log("module Migration init")}).controller("migrationController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("New Password",[],function(){console.log("module New Password init")}).controller("newPasswordController",["$scope","$state","$cookies","$http",function(e,t,a,r){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$viewContentLoaded",function(){var e=rest_api_host+hr_new_password_get_url;var t=new XMLHttpRequest;t.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);$("#new_password_container").html(e.html);$("#ajax_loader").hide();var t=document.getElementById("new_password_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();o.login_recovery(t);return false})}}catch(e){console.log("error",e)}}else{console.log("error login  response",this.response)}}};t.open("GET",e,true);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send()});var o={login_recovery:function(e){var t=new FormData(e);var a=rest_api_host+hr_new_password_post_url+window.location.search;console.log("u",a);var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{console.log("resp",this.response);var e=JSON.parse(this.response);var t=e.result;$("#new_password_container").html('<div class="recovery-response">'+t+"</div>")}catch(e){console.log("error",e)}}else{console.log("error new password response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(t)}}}]);angular.module("notFound",[],function(){console.log("module Profile init")}).controller("notFoundController",["$scope",function(e){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar()}]);angular.module("Profile",[],function(){console.log("module Profile init")}).controller("profileController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";r.rest_api_host=rest_api_host;var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();if(!l){console.log("id not found");e.go("login",{url:"/login"})}if(e.current.controller==="profileController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"users/"+l+"?include=ProfessionalExperiences,Education,Images,Countries";console.log("url",a);o.get(a,{headers:{Authorization:s}}).then(function(e){console.log(e.data.user);r.user=e.data.user;var t=r.user.role;r.user.role=r.user.role.capitalize();console.log("role",t);r.company=t==="admin"||t==="superadmin"||t==="partner"||t==="manager"},function(e){console.log("error response",e)})}})});angular.element(document).ready(function(){})}}]);angular.module("ProfileCreate",[],function(){console.log("module ProfileCreate init")}).controller("profileCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.croppie="hr/templates/partial/croppie-modal.html";var s="/login";var l=hr_authorized_id();e.user_id=l;e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.error="";if(l){t.go("home",{url:"/"})}var i=rest_api_host+"profile/create/";e.$on("$viewContentLoaded",function(){r.get(i).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);$("#add_new_photo").removeClass("hidden");$("#avatar_model_Users_counter_").closest("div").parent().addClass("hidden");$("#avatar_model_Users_counter_").remove();c.init();c.autocomplete();c.submit()},function(e){console.log("error response",e)});e.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/croppie-modal.html"){$(".btn-add-new-photo").off();$(".btn-add-new-photo").on("click",function(){$(".modal-add-photo").modal("show")});$(".avatar-grid .row .col-sm-3 img").off();$(".avatar-grid .row .col-sm-3 img").on("click",function(){$(".avatar-grid .row .col-sm-3 img.active").removeClass("active");$(this).addClass("active")});$(".first-image").click()}})});var c={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=document.getElementById("base64");if(a&&a.value){var r=dataURLtoFile(a.value,"avatar.png");if(r){t.append("fileName",r)}}var o=new XMLHttpRequest;o.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);console.log("resp",t);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");window.location.href=s}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};o.open("POST",i,true);o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.send(t)}};if(t.current.controller==="profileCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ProfileEdit",[],function(){console.log("module ProfileEdit init")}).controller("profileEditController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,t,a,r,o,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+a.get("rest_user_token");var l=hr_authorized_id();e.user_id=l;e.user_name=hr_user();e.user_avatar=hr_user_avatar();var i=rest_api_host+"/profile/update/"+l;if(!l){console.log("id not found");t.go("login",{url:"/login"})}e.$on("$viewContentLoaded",function(){r.get(i,{headers:{Authorization:s}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);$("#add_new_photo").removeClass("hidden");$("#avatar_model_Users_counter_").closest("div").parent().addClass("hidden");$("#avatar_model_Users_counter_").remove();$("input[name=username]").attr("disabled","disabled");var t=document.querySelector("select[name=role]");if(t){var a=document.getElementById("role_id");t.removeAttribute("disabled");if(a){var r=a.value;var o=[];if(t){o=t.querySelectorAll("option")}if(r.length<1||r==="null"||r===null){[].forEach.call(o,function(e){if(parseInt(e.value)===9){e.setAttribute("selected","selected")}})}[].forEach.call(o,function(e){if(parseInt(e.value)===parseInt(r)){e.setAttribute("selected","selected")}})}}var n=document.getElementById("user_form");if(n){n.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();c.hr_user_edit(n);return false})}},function(e){console.log("error response",e)});e.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/croppie-modal.html"){$(".btn-add-new-photo").off();$(".btn-add-new-photo").on("click",function(){$(".modal-add-photo").modal("show")});$(".avatar-grid .row .col-sm-3 img").off();$(".avatar-grid .row .col-sm-3 img").on("click",function(){$(".avatar-grid .row .col-sm-3 img.active").removeClass("active");$(this).addClass("active")});$(".first-image").click()}})});var c={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=document.getElementById("base64");if(a&&a.value){var r=dataURLtoFile(a.value,"avatar.png");if(r){t.append("fileName",r)}}var o=new XMLHttpRequest;o.onload=function(){if(this.readyState===4){if(this.status===200){try{console.log("æ",this.response);var t=JSON.parse(this.response);var e=document.getElementById("jd_error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};o.open("POST",i,true);o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.setRequestHeader("Authorization",s);o.send(t)}};if(t.current.controller==="profileEditController"){angular.element(document).ready(function(){})}}]);angular.module("Resume",[],function(){console.log("module Resume init")}).controller("resumeController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(n,e,t,a,r,o,s){n.hr_rest_limit=100;n.header_content="hr/templates/partial/header-content.html";n.header_background="hr/templates/partial/header-background.html";n.top_menu="hr/templates/partial/top-menu.html";n.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";n.footer="hr/templates/partial/footer.html";n.rest_api_host=rest_api_host;n.show_apply=false;n.show_applied=false;n.show_remove_favorite=false;n.show_add_favorite=false;n.company_id=null;var l=hr_authorized_id();n.user_id=l;n.user_name=hr_user();n.user_avatar=hr_user_avatar();var i=s.id;var c=rest_api_host+"resumes/"+i+"?include=Uploaded,Avatar,Experience,Education,Users,Favorites,Invited";if(e.current.controller==="resumeController"){n.$on("$viewContentLoaded",function(){n.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/footer.html"){a.get(c).then(function(e){var t=new Date(e.data.resume.Users.birthday).getFullYear();var a=(new Date).getFullYear();n.resume=e.data.resume;n.resume.age=a-t;n.avatar=e.data.resume.Avatar[0];var r=e.data.resume.Invited;var o=e.data.resume.Favorites;if(r&&r.length>0){[].forEach.call(r,function(e){if(l&&parseInt(e.user_id)===l){n.show_applied=true}});if(!n.show_applied){n.show_apply=true}}else{n.show_apply=true}if(o&&o.length>0){[].forEach.call(o,function(e){if(l&&parseInt(e.user_id)===l){n.show_remove_favorite=true}});if(!n.show_remove_favorite){n.show_add_favorite=true}}else{n.show_add_favorite=true}},function(e){console.log("error response",e)})}n.removeFavorite=function(){if(l&&n.resume&&n.resume.id){var e=rest_api_host+"favorite-resume/remove/"+l+"/"+n.resume.id;a.get(e,{headers:{Authorization:token}}).then(function(e){if(e.data.result==="OK"){n.show_remove_favorite=false;n.show_add_favorite=true}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}};n.addFavorite=function(){if(l&&n.resume&&n.resume.id){var e=rest_api_host+"favorite-resume/add/"+l+"/"+n.resume.id;a.get(e,{headers:{Authorization:token}}).then(function(e){if(e.data.result==="OK"){n.show_remove_favorite=true;n.show_add_favorite=false}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}};n.inviteResume=function(){if(l&&n.resume.id&&l){var e=rest_api_host+"resume/invite/"+l+"/"+n.resume.id;a.get(e,{headers:{Authorization:token}}).then(function(e){if(e.data.result==="OK"){n.show_apply=false;n.show_applied=true}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}}})});angular.element(document).ready(function(){})}}]);angular.module("ResumeCreate",[],function(){console.log("module ResumeCreate init")}).controller("resumeCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,o,t,a,r,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized_id()){console.log("id not found");o.go("login",{url:"/login"})}var l=rest_api_host+"resume/create";e.$on("$viewContentLoaded",function(){a.get(l,{headers:{Authorization:s}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);i.init();i.autocomplete();i.submit()},function(e){console.log("error response",e)})});var i={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){console.log(this.response);try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");o.go("resume-list",{url:"/resume/list"})}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",l,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",s);a.send(t)}};if(o.current.controller==="resumeCreateController"){angular.element(document).ready(function(){})}}]);angular.module("ResumeEdit",[],function(){console.log("module ResumeEdit init")}).controller("resumeEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var l="Bearer "+a.get("rest_user_token");var i=hr_authorized_id();e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();var c=s.id;var u=rest_api_host+"/resume/update/"+c;if(!i){console.log("id not found");t.go("login",{url:"/login"})}e.$on("$viewContentLoaded",function(){r.get(u,{headers:{Authorization:l}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);var t=document.getElementById("resume_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();d.hr_user_edit(t);return false})}},function(e){console.log("error response",e)})});var d={appendCheckbox:function(e,t){},hr_user_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){try{var t=JSON.parse(this.response);var e=document.getElementById("error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",u,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",l);a.send(t)}};if(t.current.controller==="resumeEditController"){angular.element(document).ready(function(){})}}]);angular.module("ResumeFavoriteList",[],function(){console.log("module ResumeFavoriteList init")}).controller("resumeFavoriteListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}if(e.current.controller==="resumeFavoriteListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"favorite-resume/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){r.resumes=e.data.data.resumes;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeInvitedList",[],function(){console.log("module ResumeInvitedList init")}).controller("resumeInvitedListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="resumeInvitedListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"resume/invited/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){r.resumes=e.data.data.resumes;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeList",[],function(){console.log("module ResumeList init")}).controller("resumeListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var s=window.location.origin+window.location.pathname;var l=n.search().page;if(typeof l=="undefined"){l=1}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="resumeListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"resume/list/"+l;o.get(a).then(function(e){r.resumes=e.data.data.resumes;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("ResumeUserList",[],function(){console.log("module ResumeUserList init")}).controller("resumeUserListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="resumeUserListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"resume/user/list/"+i;console.log("url",a);o.get(a,{headers:{Authorization:s}}).then(function(e){console.log(e.data.data);r.resumes=e.data.data.resumes;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("SearchArticle",[],function(){console.log("module SearchArticle init")}).controller("searchArticleController",["$scope","$state","$cookies","$http","$templateCache","$location",function(o,e,t,n,a,r){o.hr_rest_limit=100;o.header_content="hr/templates/partial/header-content.html";o.header_background="hr/templates/partial/header-background.html";o.header_search_page="hr/templates/partial/header-search-article.html";o.top_menu="hr/templates/partial/top-menu.html";o.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";o.pagination="hr/templates/partial/pagination.html";o.footer="hr/templates/partial/footer.html";o.user_id=hr_authorized_id();o.user_name=hr_user();o.user_avatar=hr_user_avatar();var s=r.search().q;var l=r.search().page;var i=r.search().category;var c=r.search().tag;if(typeof l=="undefined"){l=1}if(e.current.controller==="searchArticleController"){o.$on("$viewContentLoaded",function(){o.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){$("#filter_button").on("click",function(){$("#mobile_articles_filter").toggle()});$("#articles_full_text_search_form").validate({rules:{field:{required:true,email:true}}});$("#mobile_articles_full_text_search_form").validate({rules:{field:{required:true,email:true}}});var a;if(s||c||l||i){a="?";if(!s||s.length<3){return false}if(typeof s!="undefined"){a+="q="+s+"&"}if(typeof l!="undefined"){a+="page="+l+"&"}if(typeof c!="undefined"){a+="tag="+c+"&"}if(typeof i!="undefined"){a+="category="+i+"&"}a=a.slice(0,-1)}var r=rest_api_host+"search/articles"+a;console.log("url",r);n.get(r).then(function(e){if(e.data.result&&e.data.result==="error"){console.log("error",e.data.message);return false}o.articles=e.data.data.articles;o.totalItems=e.data.data.totalItems;o.totalPages=e.data.data.totalPages;o.limit=e.data.data.limit;o.current=e.data.data.current;o.before=e.data.data.before;o.next=e.data.data.next;o.last=e.data.data.last;o.first=e.data.data.first;o.pagesRange=e.data.data.pagesRange;o.bottomInRange=e.data.data.bottomInRange;o.topInRange=e.data.data.topInRange;o.firstInRange=o.pagesRange.length>0?o.pagesRange[0]:0;o.lastInRange=o.pagesRange.length>0?o.pagesRange.slice(-1)[0]:0;o.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("SearchResume",[],function(){console.log("module SearchResume init")}).controller("searchResumeController",["$scope","$state","$cookies","$http","$templateCache","$location",function(o,e,t,n,a,r){o.hr_rest_limit=100;o.header_content="hr/templates/partial/header-content.html";o.header_background="hr/templates/partial/header-search-background.html";o.header_search_page="hr/templates/partial/header-search-resume.html";o.top_menu="hr/templates/partial/top-menu.html";o.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";o.pagination="hr/templates/partial/pagination.html";o.footer="hr/templates/partial/footer.html";o.user_id=hr_authorized_id();o.user_name=hr_user();o.user_avatar=hr_user_avatar();var s=r.search().where;var l=r.search().what;var i=r.search().salary;var c=r.search().type;var u=r.search().order;var d=r.search().page;if(typeof d=="undefined"){d=1}if(e.current.controller==="searchResumeController"){o.$on("$viewContentLoaded",function(){o.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){$("#filter_button").on("click",function(){$("#mobile_filter").toggle()});$("#full_text_search_form").validate({rules:{field:{required:true,email:true}}});$("#mobile_full_text_search_form").validate({rules:{field:{required:true,email:true}}});var a="";if(l||s||d||i||c||u){a="?";if(typeof l!="undefined"){a+="what="+l+"&"}if(typeof s!="undefined"){a+="where="+s+"&"}if(typeof d!="undefined"){a+="page="+d+"&"}if(typeof i!="undefined"){a+="salary="+i+"&"}if(typeof c!="undefined"){a+="type="+c+"&"}if(typeof u!="undefined"){a+="order="+u+"&"}a=a.slice(0,-1);var r=rest_api_host+"resume/search"+a;n.get(r).then(function(e){console.log(a,e);if(e.data.result&&e.data.result==="error"){console.log("error",e.data.message);return false}o.resumes=e.data.data.resumes;o.totalItems=e.data.data.totalItems;o.totalPages=e.data.data.totalPages;o.limit=e.data.data.limit;o.current=e.data.data.current;o.before=e.data.data.before;o.next=e.data.data.next;o.last=e.data.data.last;o.first=e.data.data.first;o.pagesRange=e.data.data.pagesRange;o.bottomInRange=e.data.data.bottomInRange;o.topInRange=e.data.data.topInRange;o.firstInRange=o.pagesRange.length>0?o.pagesRange[0]:0;o.lastInRange=o.pagesRange.length>0?o.pagesRange.slice(-1)[0]:0;o.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("SearchVacancy",[],function(){console.log("module SearchVacancy init")}).controller("searchVacancyController",["$scope","$state","$cookies","$http","$templateCache","$location",function(o,e,t,n,a,r){o.hr_rest_limit=100;o.header_content="hr/templates/partial/header-content.html";o.header_background="hr/templates/partial/header-search-background.html";o.header_search_page="hr/templates/partial/header-search-resume.html";o.top_menu="hr/templates/partial/top-menu.html";o.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";o.pagination="hr/templates/partial/pagination.html";o.footer="hr/templates/partial/footer.html";o.user_id=hr_authorized_id();o.user_name=hr_user();o.user_avatar=hr_user_avatar();var s=r.search().where;var l=r.search().what;var i=r.search().salary;var c=r.search().type;var u=r.search().order;var d=r.search().page;if(typeof d=="undefined"){d=1}if(e.current.controller==="searchVacancyController"){o.$on("$viewContentLoaded",function(){o.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){$("#filter_button").on("click",function(){$("#mobile_filter").toggle()});$("#full_text_search_form").validate({rules:{field:{required:true,email:true}}});$("#mobile_full_text_search_form").validate({rules:{field:{required:true,email:true}}});var a="";if(l||s||d||i||c||u){a="?";if(typeof l!="undefined"){a+="what="+l+"&"}if(typeof s!="undefined"){a+="where="+s+"&"}if(typeof d!="undefined"){a+="page="+d+"&"}if(typeof i!="undefined"){a+="salary="+i+"&"}if(typeof c!="undefined"){a+="type="+c+"&"}if(typeof u!="undefined"){a+="order="+u+"&"}a=a.slice(0,-1);var r=rest_api_host+"vacancy/search"+a;n.get(r).then(function(e){console.log(e.data);if(e.data.result&&e.data.result==="error"){console.log("error",e.data.message);return false}o.vacancies=e.data.data.vacancies;o.totalItems=e.data.data.totalItems;o.totalPages=e.data.data.totalPages;o.limit=e.data.data.limit;o.current=e.data.data.current;o.before=e.data.data.before;o.next=e.data.data.next;o.last=e.data.data.last;o.first=e.data.data.first;o.pagesRange=e.data.data.pagesRange;o.bottomInRange=e.data.data.bottomInRange;o.topInRange=e.data.data.topInRange;o.firstInRange=o.pagesRange.length>0?o.pagesRange[0]:0;o.lastInRange=o.pagesRange.length>0?o.pagesRange.slice(-1)[0]:0;o.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Software",[],function(){console.log("module Software init")}).controller("softwareController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("SubcategoryArticles",[],function(){console.log("module SubcategoryArticles init")}).controller("subcategoryArticlesController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(r,e,t,o,a,n,s){r.hr_rest_limit=100;r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.footer="hr/templates/partial/footer.html";var l=n.search().page;var i=s.id;console.log(9,i,isNaN(i));if(isNaN(i)){history.back()}r.active_menu="home";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();r.subcategories=[];r.data="";if(typeof l=="undefined"){l=1}r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"subcategory/articles/"+i+"?page="+l;o.get(a).then(function(e){console.log(8,a,e);r.articles=e.data.data.articles;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.subName=e.data.data.subName;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname})}})})}]);angular.module("Subscribe",[],function(){console.log("module Subscribe init")}).controller("subscribeController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,s,t,a,r,o){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-search-background.html";e.subscribe="hr/templates/partial/subscribe.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";e.hide_subscribe_link=true;e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(s.current.controller==="subscribeController"){e.$on("$viewContentLoaded",function(){e.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){$("#mail_subscription").validate({rules:{field:{required:true,email:true}}});$("#mail_subscription_mobile").validate({rules:{field:{required:true,email:true}}});var o=document.getElementById("mail_subscription_mobile");if(o){o.addEventListener("submit",function(e){var t=rest_api_host+hr_mail_subscription_url;var a=new XMLHttpRequest;var r=new FormData(o);a.onload=function(){if(this.readyState===4){if(this.status===200){o.style.display="none";$("#mail_subscription_title").hide();$("#mail_subscription_success").show();setTimeout(function(){s.go("home",{url:"/"})},3e3)}else{console.log("error response",this.response)}}};a.open("POST",t,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(r)})}var n=document.getElementById("mail_subscription");if(n){n.addEventListener("submit",function(e){var t=rest_api_host+hr_mail_subscription_url;var a=new XMLHttpRequest;var r=new FormData(n);a.onload=function(){console.log("r",this.response);if(this.readyState===4){if(this.status===200){$("#mail_subscription_wrapper").hide();$("#mail_subscription_title").hide();$("#mail_subscription_success").show();n.style.display="none";setTimeout(function(){s.go("home",{url:"/"})},3e3)}else{console.log("error response",this.response)}}};a.open("POST",t,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(r)})}}});r.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Tests",[],function(){console.log("module Tests init")}).controller("testsController",["$scope","$http",function(e,t){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.footer="hr/templates/partial/footer.html";e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();e.$on("$includeContentLoaded",function(e,t){console.log(t)})}]);angular.module("Unsubscribe",[],function(){console.log("module Unsubscribe init")}).controller("unsubscribeController",["$scope","$state","$cookies","$http","$location",function(r,e,t,o,a){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.job_content="hr/templates/partial/job-content.html";r.job_content_mobile="hr/templates/partial/job-content-mobile.html";r.footer="hr/templates/partial/footer.html";r.success=false;r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var n=a.search().email;var s=a.search().category;s=s?s:"";var l={email:n,category:s};if(e.current.controller==="unsubscribeController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"unsubscribe/mail";o.post(a,l).then(function(e){if(e.data.result==="OK"){r.success=true}else if(e.data.result==="error"){r.error=e.data.message;console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}})})}}]);angular.module("VacancyAppliedList",[],function(){console.log("module VacancyAppliedList init")}).controller("vacancyAppliedListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}if(e.current.controller==="vacancyAppliedListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"vacancy/applied/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){console.log(e.data.data);r.vacancies=e.data.data.vacancies;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("Vacancy",[],function(){console.log("module Vacancy init")}).controller("vacancyController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(o,e,t,r,a,n,s){o.hr_rest_limit=100;o.header_content="hr/templates/partial/header-content.html";o.top_menu="hr/templates/partial/top-menu.html";o.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";o.footer="hr/templates/partial/footer.html";o.show_apply=false;o.show_applied=false;o.show_remove_favorite=false;o.show_add_favorite=false;o.server=rest_api_host;var l="Bearer "+t.get("rest_user_token");var i=s.id;var c=hr_authorized_id();o.user_id=c;o.user_name=hr_user();o.user_avatar=hr_user_avatar();if(e.current.controller==="vacancyController"){o.$on("$viewContentLoaded",function(){o.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"vacancies/"+i+"/?include=Companies,CompanyAvatar,JobTypes,Country,Favorites,Applied";console.log("url",a);r.get(a).then(function(e){if(e.data.vacancy){var t=e.data.vacancy;console.log("v",t);t.job_type=t.JobTypes.length>0?t.JobTypes[0].name:null;t.company_url=t.Companies.site;t.company_name=t.Companies.name;t.image=t.CompanyAvatar[0].path+t.CompanyAvatar[0].fileName;t.country=t.Country.name;o.vacancy=t;var a=t.Applied;var r=t.Favorites;console.log("fav",r);if(c&&a&&a.length>0){[].forEach.call(a,function(e){if(parseInt(e.user_id)===c){o.show_applied=true}});if(!o.show_applied){o.show_apply=true}}else{o.show_apply=true}if(c&&r&&r.length>0){[].forEach.call(r,function(e){if(parseInt(e.user_id)===c){o.show_remove_favorite=true}});if(!o.show_remove_favorite){o.show_add_favorite=true}}else{o.show_add_favorite=true}console.log(3,o.show_add_favorite,o.show_remove_favorite)}},function(e){console.log("error response",e)})}});o.removeFavorite=function(){if(c&&o.vacancy&&o.vacancy.id){var e=rest_api_host+"favorite/remove/"+c+"/"+o.vacancy.id;r.get(e,{headers:{Authorization:l}}).then(function(e){if(e.data.result==="OK"){o.show_remove_favorite=false;o.show_add_favorite=true}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}};o.addFavorite=function(){if(c&&o.vacancy&&o.vacancy.id){var e=rest_api_host+"favorite/add/"+c+"/"+o.vacancy.id;r.get(e,{headers:{Authorization:l}}).then(function(e){if(e.data.result==="OK"){o.show_remove_favorite=true;o.show_add_favorite=false}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response",e)}},function(e){console.log("error response",e)})}};o.applyVacancy=function(){if(c&&o.vacancy.id&&c){var e=rest_api_host+"vacancy/apply/"+c+"/"+o.vacancy.id;console.log("url",e);r.get(e,{headers:{Authorization:l}}).then(function(e){if(e.data.result==="OK"){o.show_apply=false;o.show_applied=true}else if(e.data.result==="error"){console.log("error",e.data.message)}else{console.log("error response 1",e.data.data)}},function(e){console.log("error response",e)})}}});angular.element(document).ready(function(){})}}]);angular.module("VacancyCreate",[],function(){console.log("module VacancyCreate init")}).controller("vacancyCreateController",["$scope","$state","$cookies","$http","$templateCache","$location",function(e,o,t,a,r,n){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){o.go("login",{url:"/login"})}var l=rest_api_host+"vacancy/create/";e.modelEdit=false;e.modelDelete=false;e.modelShow=false;e.$on("$viewContentLoaded",function(){console.log("url",l);a.get(l,{headers:{Authorization:s}}).then(function(e){console.log("form",e.data.result,e.data.message);if(e.data.result&&e.data.result==="error"){$("#error_container").text("Error occurred");if(e.data.message==="company not found"){$("#error_container").text("Your company not found,<br> please first create company in your profile")}}else{$("#content_container").html(e.data.html);i.init();i.autocomplete();i.submit()}},function(e){console.log("error response",e)})});var i={init:function(){},autocomplete:function(){},submit:function(){var t=this;var e=document.querySelector("button[type=submit]");var a=e.closest("form");if(a){a.addEventListener("submit",function(e){e.preventDefault();e.stopPropagation();t.send(a);return false})}},send:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);var a=new XMLHttpRequest;a.onload=function(){if(this.readyState===4){if(this.status===200){console.log(this.response);try{var e=document.getElementById("error_container");e.innerHTML="";var t=JSON.parse(this.response);var a="";if(t.result==="error"){if(e){if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.result==="OK"){console.log("OK");o.go("vacancy-list",{url:"/vacancy/list"})}else if(t.html){$("#content_container").html(t.html)}console.log("error2")}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};a.open("POST",l,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Authorization",s);a.send(t)}};if(o.current.controller==="vacancyCreateController"){angular.element(document).ready(function(){})}}]);angular.module("VacancyEdit",[],function(){console.log("module VacancyEdit init")}).controller("vacancyEditController",["$scope","$state","$cookies","$http","$templateCache","$location","$stateParams",function(e,t,a,r,o,n,s){e.hr_rest_limit=100;e.header_content="hr/templates/partial/header-content.html";e.header_background="hr/templates/partial/header-background.html";e.top_menu="hr/templates/partial/top-menu.html";e.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";e.footer="hr/templates/partial/footer.html";var l="Bearer "+a.get("rest_user_token");e.user_id=hr_authorized_id();e.user_name=hr_user();e.user_avatar=hr_user_avatar();if(!hr_authorized()){t.go("login",{url:"/login"})}var i=s.id;e.$on("$viewContentLoaded",function(){var e=rest_api_host+"/vacancy/update/"+i;r.get(e,{headers:{Authorization:l}}).then(function(e){console.log("loaded",(new Date).getTime());$("#content_container").html(e.data.html);$("input[name=username]").attr("disabled","disabled");var t=document.getElementById("vacancy_form");if(t){t.addEventListener("submit",function(e){e.stopPropagation();e.preventDefault();c.hr_vacancy_edit(t);return false})}},function(e){console.log("error response",e)})});var c={appendCheckbox:function(e,t){},hr_vacancy_edit:function(e){hr_sanitize_checkbox(e);var t=new FormData(e);this.appendCheckbox(e,t);var a=rest_api_host+"/vacancy/update/"+i;var r=new XMLHttpRequest;r.onload=function(){if(this.readyState===4){if(this.status===200){try{var t=JSON.parse(this.response);var e=document.getElementById("error_container");var a;if(t.result==="error"){if(e){a="";if(Array.isArray(t.message)){t.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.message==="object"){for(var r in t.message){a+="<div>"+r+" : "+t.message[r]+"</div>"}}else{a="<div>"+t.message+"</div>"}e.innerHTML=a;window.location.hash="top"}console.log("error",t.message,a)}else if(t.error){if(e){a="";if(Array.isArray(t.error.message)){t.error.message.forEach(function(e){if(typeof e==="object"){for(var t in e){a+="<div>"+t+" : "+e[t]+"</div>"}}else if(typeof e==="string"){a+="<div>"+e+"</div>"}})}else if(typeof t.error.message==="string"){try{var o=JSON.parse(t);o.forEach(function(e){a+="<div>"+e+"</div>"})}catch(e){console.log(e.message);a=t.error.message}}e.textContent=a;window.location.hash="top"}console.log("error",e,t.error.message)}else{console.log("success",t);window.location.reload()}}catch(e){console.log("error",e)}}else{console.log("error response",this.response)}}};r.open("POST",a,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("Authorization",l);r.send(t)}};if(t.current.controller==="vacancyEditController"){angular.element(document).ready(function(){})}}]);angular.module("VacancyFavoriteList",[],function(){console.log("module VacancyFavoriteList init")}).controller("vacancyFavoriteListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}if(e.current.controller==="vacancyFavoriteListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"favorite/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){console.log(e.data.data);r.vacancies=e.data.data.vacancies;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("VacancyList",[],function(){console.log("module VacancyList init")}).controller("vacancyListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";r.user_id=hr_authorized_id();r.user_name=hr_user();r.user_avatar=hr_user_avatar();var s=n.search().page;if(typeof s=="undefined"){s=1}r.goLink=function(e){window.location=r.pageUrl+"?page="+e};if(e.current.controller==="vacancyListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"/vacancy/list/"+s;console.log("url",a);o.get(a).then(function(e){console.log(e.data.data);r.vacancies=e.data.data.vacancies;r.totalItems=e.data.data.totalItems;r.totalPages=e.data.data.totalPages;r.limit=e.data.data.limit;r.current=e.data.data.current;r.before=e.data.data.before;r.next=e.data.data.next;r.last=e.data.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);angular.module("VacancyUserList",[],function(){console.log("module VacancyUserList init")}).controller("vacancyUserListController",["$scope","$state","$cookies","$http","$templateCache","$location",function(r,e,t,o,a,n){r.hr_rest_limit=100;r.header_content="hr/templates/partial/header-content.html";r.header_background="hr/templates/partial/header-background.html";r.top_menu="hr/templates/partial/top-menu.html";r.top_menu_mobile="hr/templates/partial/top-menu-mobile.html";r.pagination="hr/templates/partial/pagination.html";r.footer="hr/templates/partial/footer.html";var s="Bearer "+t.get("rest_user_token");var l=hr_authorized_id();r.user_id=l;r.user_name=hr_user();r.user_avatar=hr_user_avatar();var i=n.search().page;if(typeof i=="undefined"){i=1}if(!l){console.log("id not found");e.go("login",{url:"/login"})}if(e.current.controller==="vacancyUserListController"){r.$on("$viewContentLoaded",function(){r.$on("$includeContentLoaded",function(e,t){console.log("tpl",t);if(t.toString()==="hr/templates/partial/footer.html"){var a=rest_api_host+"/vacancy/user/list/"+i;o.get(a,{headers:{Authorization:s}}).then(function(e){r.vacancies=e.data.vacancies;r.totalItems=e.data.totalItems;r.totalPages=e.data.totalPages;r.limit=e.data.limit;r.current=e.data.current;r.before=e.data.before;r.next=e.data.next;r.last=e.data.last;r.first=e.data.data.first;r.pagesRange=e.data.data.pagesRange;r.bottomInRange=e.data.data.bottomInRange;r.topInRange=e.data.data.topInRange;r.firstInRange=r.pagesRange.length>0?r.pagesRange[0]:0;r.lastInRange=r.pagesRange.length>0?r.pagesRange.slice(-1)[0]:0;r.pageUrl=window.location.origin+window.location.pathname},function(e){console.log("error response",e)})}});a.remove("hr/templates/partial/pagination.html")});angular.element(document).ready(function(){})}}]);window.rest_user_role="Unauthorized";String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var admin_auth={frontHome:"/",frontLogin:"/login",frontRegister:"/profile-create",notAllowedUrls:[],check_auth:function(){var e=this;window.rest_user_id=null;var t=admin_auth.get_cookies(),a=window.location.href;if(typeof t==="object"&&Object.keys(t).length>0){console.log("logged in");window.rest_user_role=t["rest_user_role"];window.rest_user_full_name=t["rest_user_full_name"];window.rest_user_id=t["rest_user_id"];window.rest_user_token=t["rest_user_token"];window.front_user=t["front_user"];if(a.indexOf(this.frontLogin)!==-1&&a.indexOf(this.frontRegister)!==-1){window.location.href=this.frontHome}}else{console.log("not logged");this.notAllowedUrls.forEach(function(e){if(a.indexOf(e)!==-1){console.log("not logged")}})}},get_cookies:function(){var e={};if(this.get_cookie("rest_user_role")!==""){e.rest_user_role=this.get_cookie("rest_user_role")}if(this.get_cookie("rest_user_id")!==""){e.rest_user_id=this.get_cookie("rest_user_id")}if(this.get_cookie("rest_user_token")!==""){e.rest_user_token=this.get_cookie("rest_user_token")}if(this.get_cookie("rest_user_full_name")!==""){e.rest_user_full_name=this.get_cookie("rest_user_full_name")}if(this.get_cookie("front_user")!==""){e.front_user=this.get_cookie("front_user")}return e},set_cookie:function(e,t,a){if(a){var r=new Date;r.setTime(r.getTime()+a*24*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}else{document.cookie=e+"="+t+";expires=0;path=/"}},get_cookie:function(e){var t=e+"=";var a=decodeURIComponent(document.cookie);var r=a.split(";");for(var o=0;o<r.length;o++){var n=r[o];while(n.charAt(0)===" "){n=n.substring(1)}if(n.indexOf(t)===0){return n.substring(t.length,n.length)}}return""},eraseCookie:function(e){this.set_cookie(e,"",-1)},login:function(e,t,a){a=a||null;var r=this;var o=document.getElementById("error_container");var n=rest_api_host+hr_login_post_url;var s=new XMLHttpRequest;var l=new FormData;l.append("username",e);l.append("password",t);var i="Basic "+btoa(e+":"+t);l.append("Authorization",i);s.onload=function(){if(this.readyState===4){if(this.status===200){try{var e=JSON.parse(this.response);r.set_cookies(e,a);window.location.href=r.frontHome}catch(e){if(o){o.textContent="Wrong login or password"}console.log("login error",e)}}else{if(o){o.textContent="Wrong login or password"}console.log("login error response",this.response)}}};s.open("POST",n,true);s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Authorization",i);s.send(l)},logout:function(){var e=document.getElementById("hr_nav_logout");console.log(e);if(e){e.addEventListener("click",function(e){e.stopPropagation();admin_auth.remove_cookies();window.location.reload()})}},force_logout:function(){admin_auth.remove_cookies();window.location.reload()},set_cookies:function(e,t){var a=t?7:null;if(typeof e.data!=="undefined"&&typeof e.data.role!=="undefined"){this.set_cookie("rest_user_role",e.data.role,a)}var r;if(typeof e.data!=="undefined"&&typeof e.data.avatar!=="undefined"&&typeof e.data.avatar.path!=="undefined"&&typeof e.data.avatar.fileName!=="undefined"){this.set_cookie("rest_user_avatar_url",e.data.avatar.path+e.data.avatar.fileName,a)}else if(typeof e.data!=="undefined"&&typeof e.data.user.gender!=="undefined"){if(e.data.user.gender==="male"){r="/assets/images/new/mans/man13.png"}else if(e.data.user.gender==="female"){r="/assets/images/new/women/woman13.png"}else{r="/assets/images/new/mans/boy09.png"}this.set_cookie("rest_user_avatar_url",r,a)}if(typeof e.data!=="undefined"&&typeof e.data.token!=="undefined"){this.set_cookie("rest_user_token",e.data.token,a)}if(typeof e.data!=="undefined"&&typeof e.data.user.id!=="undefined"){this.set_cookie("rest_user_id",e.data.user.id,a)}if(typeof e.data!=="undefined"&&typeof e.data.user.id!=="undefined"){var o=e.data.user.name+" "+e.data.user.surname;this.set_cookie("rest_user_full_name",o,a)}if(typeof e.data!=="undefined"&&typeof e.data.user!=="undefined"){var n=JSON.stringify(e.data.user);this.set_cookie("front_user",n,a);localStorage.setItem("front_user",n)}},remove_cookies:function(){this.eraseCookie("rest_user_role");this.eraseCookie("rest_user_id");this.eraseCookie("rest_user_token");this.eraseCookie("rest_user_full_name");this.eraseCookie("front_user");localStorage.removeItem("front_user")},get_token:function(){return this.get_cookie("rest_user_token")}};admin_auth.check_auth();function getParameterByName(e,t){if(!t)t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=a.exec(t);if(!r)return null;if(!r[2])return"";return decodeURIComponent(r[2].replace(/\+/g," "))}function hr_rest_distinct(e,t){var a=[];var r=[];[].forEach.call(e,function(e){if(a[e[t]]===undefined){r.push(e)}a[e[t]]=0});return r}function hr_rest_awesomplete(a,r,e,o,n){var s=new XMLHttpRequest;var t=admin_auth.get_token();var l=[];s.open("GET",e,true);s.onload=function(){try{var e=JSON.parse(s.responseText);if(n){var t=e[r];t=hr_rest_distinct(t,a);n[r+"_"+a]=t}l=e[r].map(function(e){return e[a]});l=l.filter(function(e,t,a){return a.indexOf(e)===t});new Awesomplete(document.querySelector(o),{list:l})}catch(e){console.log("hr_rest_awesomplete_error",e)}};s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Authorization",t);s.send()}function hr_rest_awesomplete_mass(a,r,e,o,n){var s=new XMLHttpRequest;var t=admin_auth.get_token();var l=[];s.open("GET",e,true);s.onload=function(){try{var e=JSON.parse(s.responseText);if(n){var t=e[r];t=hr_rest_distinct(t,a);n[r+"_"+a]=t}o.forEach(function(t){l=e[r].map(function(e){return e[t.field]});l=l.filter(function(e,t,a){return a.indexOf(e)===t});new Awesomplete(document.querySelector(t.selector),{list:l})})}catch(e){console.log("hr_rest_awesomplete_error",e,r+"_"+a)}};s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Authorization",t);s.send()}function hr_rest_fill_model(a,r,e,o){var n=new XMLHttpRequest;var t=admin_auth.get_token();n.open("GET",e,true);n.onload=function(){try{var e=JSON.parse(n.responseText);var t=e[r];t=hr_rest_distinct(t,a);o[r+"_"+a]=t}catch(e){console.log("fill_model_error",e)}};n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Authorization",t);n.send()}function hr_profile_edit_link(){window.location.href=hr_profile_edit_url}var hr_rest_booking_offset=0;var hr_rest_product_offset=0;var hr_rest_user_offset=0;var hr_rest_message_offset=0;var hr_rest_payment_offset=0;var hr_rest_admin_offset=0;var hr_rest_limit=100;function hr_reduce_admin_offset(){if(hr_rest_admin_offset<hr_rest_limit){hr_rest_admin_offset=0}else{hr_rest_admin_offset-=hr_rest_limit}}function hr_reduce_booking_offset(){if(hr_rest_booking_offset<hr_rest_limit){hr_rest_booking_offset=0}else{hr_rest_booking_offset-=hr_rest_limit}}function hr_reduce_product_offset(){if(hr_rest_product_offset<hr_rest_limit){hr_rest_product_offset=0}else{hr_rest_product_offset-=hr_rest_limit}}function hr_reduce_message_offset(){if(hr_rest_message_offset<hr_rest_limit){hr_rest_message_offset=0}else{hr_rest_message_offset-=hr_rest_limit}}function hr_reset_message_offset(){hr_rest_message_offset=hr_rest_limit}function hr_reduce_user_offset(){if(hr_rest_user_offset<hr_rest_limit){hr_rest_user_offset=0}else{hr_rest_user_offset-=hr_rest_limit}}function hr_reduce_payment_offset(){if(hr_rest_payment_offset<hr_rest_limit){hr_rest_payment_offset=0}else{hr_rest_payment_offset-=hr_rest_limit}}function hr_increase_admin_offset(){hr_rest_admin_offset+=hr_rest_limit}function hr_increase_booking_offset(){hr_rest_booking_offset+=hr_rest_limit}function hr_increase_product_offset(){hr_rest_product_offset+=hr_rest_limit}function hr_increase_message_offset(){hr_rest_message_offset+=hr_rest_limit}function hr_increase_user_offset(){hr_rest_user_offset+=hr_rest_limit}function hr_increase_payment_offset(){hr_rest_payment_offset+=hr_rest_limit}var DateDiff={inDays:function(e,t){var a=t.getTime();var r=e.getTime();return parseInt((a-r)/(24*3600*1e3))},inWeeks:function(e,t){var a=t.getTime();var r=e.getTime();return parseInt((a-r)/(24*3600*1e3*7))},inMonths:function(e,t){var a=e.getFullYear();var r=t.getFullYear();var o=e.getMonth();var n=t.getMonth();return n+12*r-(o+12*a)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()}};function hr_sanitize_checkbox(e){var t=e.querySelectorAll("input[type=checkbox]");[].forEach.call(t,function(e){if(e.checked){e.value=1;e.setAttribute("checked","checked")}else{e.value=0;e.removeAttribute("checked")}})}function hr_successEdit(e){e=e||null;var t=document.querySelector("#hr_success_container");if(t){t.textContent="Successfully updated";setTimeout(function(){t.textContent=""},3e3)}if(e){var a=e.querySelectorAll("input[type=checkbox]");[].forEach.call(a,function(e){if(e.value&&e.value==1){e.setAttribute("checked","checked")}else{e.value=0;e.removeAttribute("checked")}})}}function hr_get_roles(){var e=window.rest_user_role;if(e==="Superadmin"){e="Admin"}var t=["Admin","Superadmin","Manager","Employer","Applicant","Partner","Expert","Author","Unauthorized"];if(t.indexOf(e)!==-1){return e}else{window.location.href=hr_login_url}}function hr_user_avatar(){return rest_api_host+admin_auth.get_cookie("rest_user_avatar_url")}function hr_user(){return admin_auth.get_cookie("rest_user_full_name")}function hr_authorized_id(){return admin_auth.get_cookie("rest_user_id")}function hr_authorized(){var e=admin_auth.get_cookie("rest_user_id");return e!==""}function hr_admin(){var e=window.rest_user_role;return e==="Admin"||e==="Superadmin"}function dataURLtoFile(e,t){var a=e.split(","),r=a[0].match(/:(.*?);/)[1],o=atob(a[1]),n=o.length,s=new Uint8Array(n);while(n--){s[n]=o.charCodeAt(n)}var l=new File([s],t,{type:r});console.log("file obj ",l);return l}console.log("loaded");document.addEventListener("DOMContentLoaded",function(e){if(admin_auth.get_cookie("close_cookies_block")===""){var t=document.getElementById("wr-cookies-notice");if(t){t.classList.remove("hidden")}}admin_auth.logout()});